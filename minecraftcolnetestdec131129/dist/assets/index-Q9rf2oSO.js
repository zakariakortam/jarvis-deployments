import{a as j,R as st}from"./vendor-jCwM7lNR.js";import{c as at,C as it,N as ko,R as go,S as ct,B as oo,F as Ee,M as Je,a as lt,D as bo,b as ut,u as Uo,d as ft,V as mt,e as Ce,f as Ie,P as ht,g as pt,h as dt,i as kt,j as gt}from"./three-DOEcZD__.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&e(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();var Go={exports:{}},to={};/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var n=j,t=Symbol.for("react.element"),o=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),p=Symbol.iterator,w="@@iterator";function E(i){if(i===null||typeof i!="object")return null;var g=p&&i[p]||i[w];return typeof g=="function"?g:null}var V=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function U(i){{for(var g=arguments.length,R=new Array(g>1?g-1:0),Y=1;Y<g;Y++)R[Y-1]=arguments[Y];z("error",i,R)}}function z(i,g,R){{var Y=V.ReactDebugCurrentFrame,Z=Y.getStackAddendum();Z!==""&&(g+="%s",R=R.concat([Z]));var J=R.map(function($){return String($)});J.unshift("Warning: "+g),Function.prototype.apply.call(console[i],console,J)}}var M=!1,L=!1,Q=!1,q=!1,H=!1,ee;ee=Symbol.for("react.module.reference");function se(i){return!!(typeof i=="string"||typeof i=="function"||i===e||i===s||H||i===r||i===u||i===x||q||i===y||M||L||Q||typeof i=="object"&&i!==null&&(i.$$typeof===O||i.$$typeof===b||i.$$typeof===a||i.$$typeof===l||i.$$typeof===f||i.$$typeof===ee||i.getModuleId!==void 0))}function ae(i,g,R){var Y=i.displayName;if(Y)return Y;var Z=g.displayName||g.name||"";return Z!==""?R+"("+Z+")":R}function d(i){return i.displayName||"Context"}function m(i){if(i==null)return null;if(typeof i.tag=="number"&&U("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case e:return"Fragment";case o:return"Portal";case s:return"Profiler";case r:return"StrictMode";case u:return"Suspense";case x:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case l:var g=i;return d(g)+".Consumer";case a:var R=i;return d(R._context)+".Provider";case f:return ae(i,i.render,"ForwardRef");case b:var Y=i.displayName||null;return Y!==null?Y:m(i.type)||"Memo";case O:{var Z=i,J=Z._payload,$=Z._init;try{return m($(J))}catch{return null}}}return null}var I=Object.assign,S=0,F,G,T,B,A,X,_;function K(){}K.__reactDisabledLog=!0;function oe(){{if(S===0){F=console.log,G=console.info,T=console.warn,B=console.error,A=console.group,X=console.groupCollapsed,_=console.groupEnd;var i={configurable:!0,enumerable:!0,value:K,writable:!0};Object.defineProperties(console,{info:i,log:i,warn:i,error:i,group:i,groupCollapsed:i,groupEnd:i})}S++}}function le(){{if(S--,S===0){var i={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:I({},i,{value:F}),info:I({},i,{value:G}),warn:I({},i,{value:T}),error:I({},i,{value:B}),group:I({},i,{value:A}),groupCollapsed:I({},i,{value:X}),groupEnd:I({},i,{value:_})})}S<0&&U("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var fe=V.ReactCurrentDispatcher,pe;function de(i,g,R){{if(pe===void 0)try{throw Error()}catch(Z){var Y=Z.stack.trim().match(/\n( *(at )?)/);pe=Y&&Y[1]||""}return`
`+pe+i}}var ge=!1,re;{var De=typeof WeakMap=="function"?WeakMap:Map;re=new De}function Ve(i,g){if(!i||ge)return"";{var R=re.get(i);if(R!==void 0)return R}var Y;ge=!0;var Z=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var J;J=fe.current,fe.current=null,oe();try{if(g){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(he){Y=he}Reflect.construct(i,[],$)}else{try{$.call()}catch(he){Y=he}i.call($.prototype)}}else{try{throw Error()}catch(he){Y=he}i()}}catch(he){if(he&&Y&&typeof he.stack=="string"){for(var W=he.stack.split(`
`),me=Y.stack.split(`
`),ne=W.length-1,ie=me.length-1;ne>=1&&ie>=0&&W[ne]!==me[ie];)ie--;for(;ne>=1&&ie>=0;ne--,ie--)if(W[ne]!==me[ie]){if(ne!==1||ie!==1)do if(ne--,ie--,ie<0||W[ne]!==me[ie]){var ke=`
`+W[ne].replace(" at new "," at ");return i.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",i.displayName)),typeof i=="function"&&re.set(i,ke),ke}while(ne>=1&&ie>=0);break}}}finally{ge=!1,fe.current=J,le(),Error.prepareStackTrace=Z}var Se=i?i.displayName||i.name:"",je=Se?de(Se):"";return typeof i=="function"&&re.set(i,je),je}function $e(i,g,R){return Ve(i,!1)}function Yo(i){var g=i.prototype;return!!(g&&g.isReactComponent)}function Pe(i,g,R){if(i==null)return"";if(typeof i=="function")return Ve(i,Yo(i));if(typeof i=="string")return de(i);switch(i){case u:return de("Suspense");case x:return de("SuspenseList")}if(typeof i=="object")switch(i.$$typeof){case f:return $e(i.render);case b:return Pe(i.type,g,R);case O:{var Y=i,Z=Y._payload,J=Y._init;try{return Pe(J(Z),g,R)}catch{}}}return""}var Oe=Object.prototype.hasOwnProperty,ro={},no=V.ReactDebugCurrentFrame;function Ye(i){if(i){var g=i._owner,R=Pe(i.type,i._source,g?g.type:null);no.setExtraStackFrame(R)}else no.setExtraStackFrame(null)}function To(i,g,R,Y,Z){{var J=Function.call.bind(Oe);for(var $ in i)if(J(i,$)){var W=void 0;try{if(typeof i[$]!="function"){var me=Error((Y||"React class")+": "+R+" type `"+$+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof i[$]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw me.name="Invariant Violation",me}W=i[$](g,$,Y,R,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ne){W=ne}W&&!(W instanceof Error)&&(Ye(Z),U("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Y||"React class",R,$,typeof W),Ye(null)),W instanceof Error&&!(W.message in ro)&&(ro[W.message]=!0,Ye(Z),U("Failed %s type: %s",R,W.message),Ye(null))}}}var Ao=Array.isArray;function He(i){return Ao(i)}function Bo(i){{var g=typeof Symbol=="function"&&Symbol.toStringTag,R=g&&i[Symbol.toStringTag]||i.constructor.name||"Object";return R}}function Lo(i){try{return so(i),!1}catch{return!0}}function so(i){return""+i}function ao(i){if(Lo(i))return U("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Bo(i)),so(i)}var Ue=V.ReactCurrentOwner,_o={key:!0,ref:!0,__self:!0,__source:!0},io,co,ze;ze={};function Wo(i){if(Oe.call(i,"ref")){var g=Object.getOwnPropertyDescriptor(i,"ref").get;if(g&&g.isReactWarning)return!1}return i.ref!==void 0}function $o(i){if(Oe.call(i,"key")){var g=Object.getOwnPropertyDescriptor(i,"key").get;if(g&&g.isReactWarning)return!1}return i.key!==void 0}function Ho(i,g){if(typeof i.ref=="string"&&Ue.current&&g&&Ue.current.stateNode!==g){var R=m(Ue.current.type);ze[R]||(U('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',m(Ue.current.type),i.ref),ze[R]=!0)}}function zo(i,g){{var R=function(){io||(io=!0,U("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",g))};R.isReactWarning=!0,Object.defineProperty(i,"key",{get:R,configurable:!0})}}function Ko(i,g){{var R=function(){co||(co=!0,U("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",g))};R.isReactWarning=!0,Object.defineProperty(i,"ref",{get:R,configurable:!0})}}var Xo=function(i,g,R,Y,Z,J,$){var W={$$typeof:t,type:i,key:g,ref:R,props:$,_owner:J};return W._store={},Object.defineProperty(W._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(W,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Y}),Object.defineProperty(W,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Z}),Object.freeze&&(Object.freeze(W.props),Object.freeze(W)),W};function Zo(i,g,R,Y,Z){{var J,$={},W=null,me=null;R!==void 0&&(ao(R),W=""+R),$o(g)&&(ao(g.key),W=""+g.key),Wo(g)&&(me=g.ref,Ho(g,Z));for(J in g)Oe.call(g,J)&&!_o.hasOwnProperty(J)&&($[J]=g[J]);if(i&&i.defaultProps){var ne=i.defaultProps;for(J in ne)$[J]===void 0&&($[J]=ne[J])}if(W||me){var ie=typeof i=="function"?i.displayName||i.name||"Unknown":i;W&&zo($,ie),me&&Ko($,ie)}return Xo(i,W,me,Z,Y,Ue.current,$)}}var Ke=V.ReactCurrentOwner,lo=V.ReactDebugCurrentFrame;function ye(i){if(i){var g=i._owner,R=Pe(i.type,i._source,g?g.type:null);lo.setExtraStackFrame(R)}else lo.setExtraStackFrame(null)}var Xe;Xe=!1;function Ze(i){return typeof i=="object"&&i!==null&&i.$$typeof===t}function uo(){{if(Ke.current){var i=m(Ke.current.type);if(i)return`

Check the render method of \``+i+"`."}return""}}function qo(i){{if(i!==void 0){var g=i.fileName.replace(/^.*[\\\/]/,""),R=i.lineNumber;return`

Check your code at `+g+":"+R+"."}return""}}var fo={};function Jo(i){{var g=uo();if(!g){var R=typeof i=="string"?i:i.displayName||i.name;R&&(g=`

Check the top-level render call using <`+R+">.")}return g}}function mo(i,g){{if(!i._store||i._store.validated||i.key!=null)return;i._store.validated=!0;var R=Jo(g);if(fo[R])return;fo[R]=!0;var Y="";i&&i._owner&&i._owner!==Ke.current&&(Y=" It was passed a child from "+m(i._owner.type)+"."),ye(i),U('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',R,Y),ye(null)}}function ho(i,g){{if(typeof i!="object")return;if(He(i))for(var R=0;R<i.length;R++){var Y=i[R];Ze(Y)&&mo(Y,g)}else if(Ze(i))i._store&&(i._store.validated=!0);else if(i){var Z=E(i);if(typeof Z=="function"&&Z!==i.entries)for(var J=Z.call(i),$;!($=J.next()).done;)Ze($.value)&&mo($.value,g)}}}function Qo(i){{var g=i.type;if(g==null||typeof g=="string")return;var R;if(typeof g=="function")R=g.propTypes;else if(typeof g=="object"&&(g.$$typeof===f||g.$$typeof===b))R=g.propTypes;else return;if(R){var Y=m(g);To(R,i.props,"prop",Y,i)}else if(g.PropTypes!==void 0&&!Xe){Xe=!0;var Z=m(g);U("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Z||"Unknown")}typeof g.getDefaultProps=="function"&&!g.getDefaultProps.isReactClassApproved&&U("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function et(i){{for(var g=Object.keys(i.props),R=0;R<g.length;R++){var Y=g[R];if(Y!=="children"&&Y!=="key"){ye(i),U("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Y),ye(null);break}}i.ref!==null&&(ye(i),U("Invalid attribute `ref` supplied to `React.Fragment`."),ye(null))}}var po={};function ot(i,g,R,Y,Z,J){{var $=se(i);if(!$){var W="";(i===void 0||typeof i=="object"&&i!==null&&Object.keys(i).length===0)&&(W+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var me=qo(Z);me?W+=me:W+=uo();var ne;i===null?ne="null":He(i)?ne="array":i!==void 0&&i.$$typeof===t?(ne="<"+(m(i.type)||"Unknown")+" />",W=" Did you accidentally export a JSX literal instead of a component?"):ne=typeof i,U("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",ne,W)}var ie=Zo(i,g,R,Z,J);if(ie==null)return ie;if($){var ke=g.children;if(ke!==void 0)if(Y)if(He(ke)){for(var Se=0;Se<ke.length;Se++)ho(ke[Se],i);Object.freeze&&Object.freeze(ke)}else U("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ho(ke,i)}if(Oe.call(g,"key")){var je=m(i),he=Object.keys(g).filter(function(nt){return nt!=="key"}),qe=he.length>0?"{key: someKey, "+he.join(": ..., ")+": ...}":"{key: someKey}";if(!po[je+qe]){var rt=he.length>0?"{"+he.join(": ..., ")+": ...}":"{}";U(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,qe,je,rt,je),po[je+qe]=!0}}return i===e?et(ie):Qo(ie),ie}}var tt=ot;to.Fragment=e,to.jsxDEV=tt})();Go.exports=to;var c=Go.exports;const bt=n=>(t,o,e)=>{const r=e.subscribe;return e.subscribe=(a,l,f)=>{let u=a;if(l){const x=(f==null?void 0:f.equalityFn)||Object.is;let b=a(e.getState());u=O=>{const y=a(O);if(!x(b,y)){const p=b;l(b=y,p)}},f!=null&&f.fireImmediately&&l(b,b)}return r(u)},n(t,o,e)},Nt=bt,h={AIR:0,GRASS:1,DIRT:2,STONE:3,COBBLESTONE:4,WOOD:5,LEAVES:6,SAND:7,WATER:8,GLASS:9,BRICK:10,PLANKS:11,LOG:12,SNOW:13,ICE:14,CLAY:15,GRAVEL:16,COAL_ORE:17,IRON_ORE:18,GOLD_ORE:19,DIAMOND_ORE:20,BEDROCK:21,LAVA:22,CACTUS:23,CRAFTING_TABLE:24,FURNACE:25,CHEST:26,TNT:27,OBSIDIAN:28,GLOWSTONE:29},ve={[h.AIR]:{name:"Air",transparent:!0,solid:!1,breakTime:0,tool:null,drops:null},[h.GRASS]:{name:"Grass Block",transparent:!1,solid:!0,breakTime:.6,tool:"shovel",drops:h.DIRT,color:"#5a8c32",topColor:"#7ab648",sideColor:"#8b6914"},[h.DIRT]:{name:"Dirt",transparent:!1,solid:!0,breakTime:.5,tool:"shovel",color:"#8b6914"},[h.STONE]:{name:"Stone",transparent:!1,solid:!0,breakTime:1.5,tool:"pickaxe",drops:h.COBBLESTONE,color:"#7f7f7f"},[h.COBBLESTONE]:{name:"Cobblestone",transparent:!1,solid:!0,breakTime:2,tool:"pickaxe",color:"#6f6f6f"},[h.WOOD]:{name:"Oak Wood",transparent:!1,solid:!0,breakTime:2,tool:"axe",color:"#6b5344",sideColor:"#4a3728"},[h.LEAVES]:{name:"Oak Leaves",transparent:!0,solid:!0,breakTime:.2,tool:"shears",color:"#2d5a27"},[h.SAND]:{name:"Sand",transparent:!1,solid:!0,breakTime:.5,tool:"shovel",color:"#e8d4a8",gravity:!0},[h.WATER]:{name:"Water",transparent:!0,solid:!1,breakTime:0,tool:null,color:"#3366cc",liquid:!0,flowable:!0},[h.GLASS]:{name:"Glass",transparent:!0,solid:!0,breakTime:.3,tool:null,drops:null,color:"#c0e0ff"},[h.BRICK]:{name:"Bricks",transparent:!1,solid:!0,breakTime:2,tool:"pickaxe",color:"#8b4532"},[h.PLANKS]:{name:"Oak Planks",transparent:!1,solid:!0,breakTime:2,tool:"axe",color:"#bc9862"},[h.LOG]:{name:"Oak Log",transparent:!1,solid:!0,breakTime:2,tool:"axe",color:"#6b5344",topColor:"#bc9862",sideColor:"#4a3728"},[h.SNOW]:{name:"Snow",transparent:!1,solid:!0,breakTime:.5,tool:"shovel",color:"#f0f0f0"},[h.ICE]:{name:"Ice",transparent:!0,solid:!0,breakTime:.5,tool:"pickaxe",drops:null,color:"#a0d0ff",slippery:!0},[h.CLAY]:{name:"Clay",transparent:!1,solid:!0,breakTime:.6,tool:"shovel",color:"#9ea4b0"},[h.GRAVEL]:{name:"Gravel",transparent:!1,solid:!0,breakTime:.6,tool:"shovel",color:"#8a7a7a",gravity:!0},[h.COAL_ORE]:{name:"Coal Ore",transparent:!1,solid:!0,breakTime:3,tool:"pickaxe",color:"#4a4a4a"},[h.IRON_ORE]:{name:"Iron Ore",transparent:!1,solid:!0,breakTime:3,tool:"pickaxe",color:"#8a7560"},[h.GOLD_ORE]:{name:"Gold Ore",transparent:!1,solid:!0,breakTime:3,tool:"pickaxe",color:"#fcdb4e"},[h.DIAMOND_ORE]:{name:"Diamond Ore",transparent:!1,solid:!0,breakTime:3,tool:"pickaxe",color:"#5cd6e8"},[h.BEDROCK]:{name:"Bedrock",transparent:!1,solid:!0,breakTime:-1,tool:null,color:"#333333",indestructible:!0},[h.LAVA]:{name:"Lava",transparent:!0,solid:!1,breakTime:0,tool:null,color:"#ff6600",liquid:!0,flowable:!0,damage:4,light:15},[h.CACTUS]:{name:"Cactus",transparent:!1,solid:!0,breakTime:.4,tool:null,color:"#1a5c1a",damage:1},[h.CRAFTING_TABLE]:{name:"Crafting Table",transparent:!1,solid:!0,breakTime:2.5,tool:"axe",color:"#bc9862",interactive:!0},[h.FURNACE]:{name:"Furnace",transparent:!1,solid:!0,breakTime:3.5,tool:"pickaxe",color:"#7f7f7f",interactive:!0},[h.CHEST]:{name:"Chest",transparent:!1,solid:!0,breakTime:2.5,tool:"axe",color:"#8b6914",interactive:!0},[h.TNT]:{name:"TNT",transparent:!1,solid:!0,breakTime:0,tool:null,color:"#ff0000",explosive:!0},[h.OBSIDIAN]:{name:"Obsidian",transparent:!1,solid:!0,breakTime:50,tool:"diamond_pickaxe",color:"#1a0a2e"},[h.GLOWSTONE]:{name:"Glowstone",transparent:!1,solid:!0,breakTime:.3,tool:null,color:"#ffcc66",light:15}},N=16,ue=128,No=4,Te=62,Ne={PLAINS:"plains",FOREST:"forest",DESERT:"desert",SNOW:"snow",MOUNTAINS:"mountains",OCEAN:"ocean",BEACH:"beach",SWAMP:"swamp"},Ae={[Ne.PLAINS]:{name:"Plains",surfaceBlock:h.GRASS,subsurfaceBlock:h.DIRT,treeFrequency:.002,heightVariation:4,baseHeight:64,grassColor:"#7ab648"},[Ne.FOREST]:{name:"Forest",surfaceBlock:h.GRASS,subsurfaceBlock:h.DIRT,treeFrequency:.05,heightVariation:6,baseHeight:66,grassColor:"#5a8c32"},[Ne.DESERT]:{name:"Desert",surfaceBlock:h.SAND,subsurfaceBlock:h.SAND,treeFrequency:.001,heightVariation:3,baseHeight:64,hasRain:!1},[Ne.SNOW]:{name:"Snowy Tundra",surfaceBlock:h.SNOW,subsurfaceBlock:h.DIRT,treeFrequency:.01,heightVariation:4,baseHeight:64,snowfall:!0},[Ne.MOUNTAINS]:{name:"Mountains",surfaceBlock:h.STONE,subsurfaceBlock:h.STONE,treeFrequency:.005,heightVariation:30,baseHeight:80},[Ne.OCEAN]:{name:"Ocean",surfaceBlock:h.SAND,subsurfaceBlock:h.SAND,treeFrequency:0,heightVariation:2,baseHeight:40},[Ne.BEACH]:{name:"Beach",surfaceBlock:h.SAND,subsurfaceBlock:h.SAND,treeFrequency:0,heightVariation:1,baseHeight:63},[Ne.SWAMP]:{name:"Swamp",surfaceBlock:h.GRASS,subsurfaceBlock:h.DIRT,treeFrequency:.02,heightVariation:2,baseHeight:62,grassColor:"#4a6c32"}},vt=1.8,vo=.6,xt=1.62,Et=20,jt=7,yt=4.3,St=5.6,It=10,xo={renderDistance:4,fov:70,sensitivity:.002,volume:1,musicVolume:.5,showDebug:!1,invertY:!1,viewBobbing:!0,smoothLighting:!0,particles:!0,clouds:!0,fullscreen:!1},Be="webcraft_save",Eo=()=>{const n=new Array(36).fill(null);return n[0]={type:h.DIRT,count:64},n[1]={type:h.STONE,count:64},n[2]={type:h.GRASS,count:64},n[3]={type:h.WOOD,count:64},n[4]={type:h.PLANKS,count:64},n[5]={type:h.COBBLESTONE,count:64},n[6]={type:h.SAND,count:64},n[7]={type:h.GLASS,count:64},n[8]={type:h.LOG,count:64},n},k=at(Nt((n,t)=>({gameState:"menu",isPlaying:!1,isPaused:!1,isLoading:!0,worldSeed:Date.now(),worldName:"New World",chunks:new Map,modifiedBlocks:new Map,player:{position:[0,80,0],velocity:[0,0,0],rotation:[0,0],health:20,maxHealth:20,hunger:20,maxHunger:20,experience:0,level:0,isFlying:!1,isSwimming:!1,isSprinting:!1,isSneaking:!1,isOnGround:!1,selectedSlot:0},inventory:Eo(),craftingGrid:new Array(9).fill(null),craftingResult:null,settings:{...xo},time:0,dayCount:1,weather:"clear",showDebug:!1,showInventory:!1,showCrafting:!1,hoveredBlock:null,selectedBlock:null,breakingBlock:null,breakProgress:0,fps:60,chunksLoaded:0,triangleCount:0,setGameState:o=>n({gameState:o,isPlaying:o==="playing"}),startGame:(o,e)=>{n({gameState:"loading",isLoading:!0,worldName:o||"New World",worldSeed:e||Date.now(),chunks:new Map,modifiedBlocks:new Map,player:{...t().player,position:[0,80,0],health:20,hunger:20},inventory:Eo(),time:.25,dayCount:1})},finishLoading:()=>n({isLoading:!1,gameState:"playing",isPlaying:!0}),pauseGame:()=>n({gameState:"paused",isPaused:!0}),resumeGame:()=>n({gameState:"playing",isPaused:!1}),exitToMenu:()=>{t().saveGame(),n({gameState:"menu",isPlaying:!1,isPaused:!1,chunks:new Map})},updatePlayerPosition:o=>n(e=>({player:{...e.player,position:o}})),updatePlayerVelocity:o=>n(e=>({player:{...e.player,velocity:o}})),updatePlayerRotation:o=>n(e=>({player:{...e.player,rotation:o}})),setPlayerOnGround:o=>n(e=>({player:{...e.player,isOnGround:o}})),setPlayerFlying:o=>n(e=>({player:{...e.player,isFlying:o}})),setPlayerSprinting:o=>n(e=>({player:{...e.player,isSprinting:o}})),setPlayerSneaking:o=>n(e=>({player:{...e.player,isSneaking:o}})),setPlayerSwimming:o=>n(e=>({player:{...e.player,isSwimming:o}})),damagePlayer:o=>n(e=>({player:{...e.player,health:Math.max(0,e.player.health-o)}})),healPlayer:o=>n(e=>({player:{...e.player,health:Math.min(e.player.maxHealth,e.player.health+o)}})),updateHunger:o=>n(e=>({player:{...e.player,hunger:Math.max(0,Math.min(e.player.maxHunger,e.player.hunger+o))}})),selectSlot:o=>n(e=>({player:{...e.player,selectedSlot:o}})),setInventorySlot:(o,e)=>n(r=>{const s=[...r.inventory];return s[o]=e,{inventory:s}}),addToInventory:(o,e=1)=>{const s=[...t().inventory];for(let a=0;a<s.length;a++)if(s[a]&&s[a].type===o&&s[a].count<64){const l=64-s[a].count,f=Math.min(l,e);if(s[a]={type:o,count:s[a].count+f},e-=f,e<=0)return n({inventory:s}),!0}for(let a=0;a<s.length;a++)if(!s[a]){const l=Math.min(64,e);if(s[a]={type:o,count:l},e-=l,e<=0)return n({inventory:s}),!0}return n({inventory:s}),e<=0},removeFromInventory:(o,e=1)=>n(r=>{const s=[...r.inventory];return s[o]&&(s[o].count-=e,s[o].count<=0&&(s[o]=null)),{inventory:s}}),getSelectedItem:()=>{const o=t();return o.inventory[o.player.selectedSlot]},setCraftingGrid:o=>n({craftingGrid:o}),setCraftingSlot:(o,e)=>n(r=>{const s=[...r.craftingGrid];return s[o]=e,{craftingGrid:s}}),setCraftingResult:o=>n({craftingResult:o}),clearCrafting:()=>n({craftingGrid:new Array(9).fill(null),craftingResult:null}),setChunk:(o,e)=>n(r=>{const s=new Map(r.chunks);return s.set(o,e),{chunks:s,chunksLoaded:s.size}}),getChunk:o=>t().chunks.get(o),removeChunk:o=>n(e=>{const r=new Map(e.chunks);return r.delete(o),{chunks:r,chunksLoaded:r.size}}),setModifiedBlock:(o,e,r,s)=>{const a=`${o},${e},${r}`;n(l=>{const f=new Map(l.modifiedBlocks);return f.set(a,s),{modifiedBlocks:f}})},getModifiedBlock:(o,e,r)=>{const s=`${o},${e},${r}`;return t().modifiedBlocks.get(s)},setHoveredBlock:o=>n({hoveredBlock:o}),setSelectedBlock:o=>n({selectedBlock:o}),setBreakingBlock:(o,e)=>n({breakingBlock:o,breakProgress:e}),updateTime:o=>n(e=>{let r=e.time+o/1200,s=e.dayCount;return r>=1&&(r-=1,s+=1),{time:r,dayCount:s}}),setTime:o=>n({time:o%1}),setWeather:o=>n({weather:o}),updateSettings:o=>n(e=>({settings:{...e.settings,...o}})),toggleDebug:()=>n(o=>({showDebug:!o.showDebug})),toggleInventory:()=>n(o=>({showInventory:!o.showInventory,showCrafting:!1,gameState:o.showInventory?"playing":"inventory"})),toggleCrafting:()=>n(o=>({showCrafting:!o.showCrafting,showInventory:!1,gameState:o.showCrafting?"playing":"crafting"})),closeAllMenus:()=>n({showInventory:!1,showCrafting:!1,gameState:"playing"}),setFPS:o=>n({fps:o}),setTriangleCount:o=>n({triangleCount:o}),saveGame:()=>{const o=t(),e={worldName:o.worldName,worldSeed:o.worldSeed,player:o.player,inventory:o.inventory,modifiedBlocks:Array.from(o.modifiedBlocks.entries()),time:o.time,dayCount:o.dayCount,settings:o.settings,savedAt:Date.now()};try{localStorage.setItem(Be,JSON.stringify(e)),console.log("Game saved successfully")}catch(r){console.error("Failed to save game:",r)}},loadGame:()=>{try{const o=localStorage.getItem(Be);if(o){const e=JSON.parse(o);return n({worldName:e.worldName,worldSeed:e.worldSeed,player:e.player,inventory:e.inventory,modifiedBlocks:new Map(e.modifiedBlocks),time:e.time,dayCount:e.dayCount,settings:{...xo,...e.settings}}),!0}}catch(o){console.error("Failed to load game:",o)}return!1},hasSavedGame:()=>localStorage.getItem(Be)!==null,deleteSave:()=>{localStorage.removeItem(Be)}}))),Mo=Math.sqrt(3),wt=.5*(Mo-1),Ge=(3-Mo)/6,Rt=1/3,xe=1/6,Fe=n=>Math.floor(n)|0,jo=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),Qe=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function yo(n=Math.random){const t=Fo(n),o=new Float64Array(t).map(r=>jo[r%12*2]),e=new Float64Array(t).map(r=>jo[r%12*2+1]);return function(s,a){let l=0,f=0,u=0;const x=(s+a)*wt,b=Fe(s+x),O=Fe(a+x),y=(b+O)*Ge,p=b-y,w=O-y,E=s-p,V=a-w;let U,z;E>V?(U=1,z=0):(U=0,z=1);const M=E-U+Ge,L=V-z+Ge,Q=E-1+2*Ge,q=V-1+2*Ge,H=b&255,ee=O&255;let se=.5-E*E-V*V;if(se>=0){const m=H+t[ee],I=o[m],S=e[m];se*=se,l=se*se*(I*E+S*V)}let ae=.5-M*M-L*L;if(ae>=0){const m=H+U+t[ee+z],I=o[m],S=e[m];ae*=ae,f=ae*ae*(I*M+S*L)}let d=.5-Q*Q-q*q;if(d>=0){const m=H+1+t[ee+1],I=o[m],S=e[m];d*=d,u=d*d*(I*Q+S*q)}return 70*(l+f+u)}}function So(n=Math.random){const t=Fo(n),o=new Float64Array(t).map(s=>Qe[s%12*3]),e=new Float64Array(t).map(s=>Qe[s%12*3+1]),r=new Float64Array(t).map(s=>Qe[s%12*3+2]);return function(a,l,f){let u,x,b,O;const y=(a+l+f)*Rt,p=Fe(a+y),w=Fe(l+y),E=Fe(f+y),V=(p+w+E)*xe,U=p-V,z=w-V,M=E-V,L=a-U,Q=l-z,q=f-M;let H,ee,se,ae,d,m;L>=Q?Q>=q?(H=1,ee=0,se=0,ae=1,d=1,m=0):L>=q?(H=1,ee=0,se=0,ae=1,d=0,m=1):(H=0,ee=0,se=1,ae=1,d=0,m=1):Q<q?(H=0,ee=0,se=1,ae=0,d=1,m=1):L<q?(H=0,ee=1,se=0,ae=0,d=1,m=1):(H=0,ee=1,se=0,ae=1,d=1,m=0);const I=L-H+xe,S=Q-ee+xe,F=q-se+xe,G=L-ae+2*xe,T=Q-d+2*xe,B=q-m+2*xe,A=L-1+3*xe,X=Q-1+3*xe,_=q-1+3*xe,K=p&255,oe=w&255,le=E&255;let fe=.6-L*L-Q*Q-q*q;if(fe<0)u=0;else{const re=K+t[oe+t[le]];fe*=fe,u=fe*fe*(o[re]*L+e[re]*Q+r[re]*q)}let pe=.6-I*I-S*S-F*F;if(pe<0)x=0;else{const re=K+H+t[oe+ee+t[le+se]];pe*=pe,x=pe*pe*(o[re]*I+e[re]*S+r[re]*F)}let de=.6-G*G-T*T-B*B;if(de<0)b=0;else{const re=K+ae+t[oe+d+t[le+m]];de*=de,b=de*de*(o[re]*G+e[re]*T+r[re]*B)}let ge=.6-A*A-X*X-_*_;if(ge<0)O=0;else{const re=K+1+t[oe+1+t[le+1]];ge*=ge,O=ge*ge*(o[re]*A+e[re]*X+r[re]*_)}return 32*(u+x+b+O)}}function Fo(n){const o=new Uint8Array(512);for(let e=0;e<512/2;e++)o[e]=e;for(let e=0;e<512/2-1;e++){const r=e+~~(n()*(256-e)),s=o[e];o[e]=o[r],o[r]=s}for(let e=256;e<512;e++)o[e]=o[e-256];return o}function Dt(){let n=4022871197;return function(o){o=String(o);for(let e=0;e<o.length;e++){n+=o.charCodeAt(e);let r=.02519603282416938*n;n=r>>>0,r-=n,r*=n,n=r>>>0,r-=n,n+=r*4294967296}return(n>>>0)*23283064365386963e-26}}function We(n){let t=0,o=0,e=0,r=1;n==null&&(n=Date.now());const s=Dt();t=s(" "),o=s(" "),e=s(" "),t-=s(n),t<0&&(t+=1),o-=s(n),o<0&&(o+=1),e-=s(n),e<0&&(e+=1);const a=function(){const l=2091639*t+r*23283064365386963e-26;return t=o,o=e,e=l-(r=l|0)};return a.uint32=function(){return a()*4294967296},a.fract53=function(){return a()+(a()*2097152|0)*11102230246251565e-32},a}let Io=class{constructor(t){this.seed=t,this.prng=We(t.toString())}random(){return this.prng()}randomInt(t,o){return Math.floor(this.random()*(o-t+1))+t}randomFloat(t,o){return this.random()*(o-t)+t}};class Ot{constructor(t=Date.now()){this.seed=t;const o=We(t.toString());this.noise2D=yo(o),this.noise3D=So(o);const e=We((t+1).toString()),r=We((t+2).toString());this.detailNoise2D=yo(e),this.caveNoise3D=So(r)}fbm2D(t,o,e=4,r=.5,s=2){let a=0,l=1,f=1,u=0;for(let x=0;x<e;x++)a+=this.noise2D(t*l,o*l)*f,u+=f,f*=r,l*=s;return a/u}fbm3D(t,o,e,r=3,s=.5,a=2){let l=0,f=1,u=1,x=0;for(let b=0;b<r;b++)l+=this.noise3D(t*f,o*f,e*f)*u,x+=u,u*=s,f*=a;return l/x}getTerrainHeight(t,o,e){const a=this.fbm2D(t*.01*.5,o*.01*.5,2,.5,2),l=this.fbm2D(t*.01,o*.01,4,.5,2),f=this.detailNoise2D(t*.05,o*.05)*.3,u=e.baseHeight,x=e.heightVariation;let b=u+l*x+f;return b+=a*10,Math.floor(b)}getBiome(t,o,e,r){const l=(this.fbm2D(t*.003,o*.003,2,.5,2)+1)/2,f=(this.fbm2D(t*.004+1e3,o*.004+1e3,2,.5,2)+1)/2;if(l<.2)return e.SNOW;if(l>.8){if(f<.3)return e.DESERT;if(f>.7)return e.SWAMP}return f>.6?e.FOREST:f<.3?e.PLAINS:this.fbm2D(t*.005,o*.005,2,.5,2)>.4?e.MOUNTAINS:e.PLAINS}getCaveValue(t,o,e){const s=this.caveNoise3D(t*.05,o*.05*.5,e*.05),a=this.noise3D(t*.05*2,o*.05,e*.05*2)*.3;return s+a}isCave(t,o,e){if(o>55||o<5)return!1;const r=this.getCaveValue(t,o,e),s=.5,a=1-o/64*.3;return r>s*a}getOreValue(t,o,e,r){return(this.noise3D(t*.1+r*100,o*.1,e*.1+r*100)+1)/2}getTreeNoise(t,o){return(this.detailNoise2D(t*.5,o*.5)+1)/2}}class Ut{constructor(t){this.seed=t,this.noise=new Ot(t),this.random=new Io(t)}generateChunk(t,o){const e=new Uint8Array(N*ue*N),r=new Uint8Array(N*ue*N);for(let s=0;s<N;s++)for(let a=0;a<N;a++){const l=t*N+s,f=o*N+a,u=this.noise.getBiome(l,f,Ne,Ae),x=Ae[u],b=this.noise.getTerrainHeight(l,f,x);this.generateColumn(e,s,a,b,x,u,l,f)}return this.generateStructures(e,t,o),this.calculateLighting(e,r),{blocks:e,lightLevels:r,chunkX:t,chunkZ:o,isDirty:!1,mesh:null}}generateColumn(t,o,e,r,s,a,l,f){for(let u=0;u<ue;u++){const x=this.getBlockIndex(o,u,e);let b=h.AIR;u===0?b=h.BEDROCK:u<5?this.random.random()<.5?b=h.BEDROCK:b=h.STONE:u<r-4?(b=h.STONE,this.noise.isCave(l,u,f)?b=h.AIR:b=this.generateOre(l,u,f)):u<r-1?this.noise.isCave(l,u,f)||(b=s.subsurfaceBlock):u===r-1?r<=Te||r===Te+1?b=h.SAND:b=s.surfaceBlock:u<Te&&(b=h.WATER),t[x]=b}}generateOre(t,o,e){return o>=5&&o<=52&&this.noise.getOreValue(t,o,e,1)>.92?h.COAL_ORE:o>=1&&o<=63&&this.noise.getOreValue(t,o,e,2)>.94?h.IRON_ORE:o>=1&&o<=31&&this.noise.getOreValue(t,o,e,3)>.96?h.GOLD_ORE:o>=1&&o<=16&&this.noise.getOreValue(t,o,e,4)>.975?h.DIAMOND_ORE:this.noise.getOreValue(t,o,e,5)>.93?h.GRAVEL:h.STONE}generateStructures(t,o,e){const r=new Io(this.seed+o*1e3+e);for(let s=2;s<N-2;s++)for(let a=2;a<N-2;a++){const l=o*N+s,f=e*N+a;let u=0;for(let p=ue-1;p>=0;p--){const w=t[this.getBlockIndex(s,p,a)];if(w!==h.AIR&&w!==h.WATER){u=p;break}}const x=t[this.getBlockIndex(s,u,a)];if(x!==h.GRASS&&x!==h.DIRT||u<Te)continue;const b=this.noise.getBiome(l,f,Ne,Ae),O=Ae[b];this.noise.getTreeNoise(l,f)<1-O.treeFrequency*10||r.random()>.3||(b===Ne.DESERT?this.generateCactus(t,s,u+1,a,r):this.generateTree(t,s,u+1,a,r))}}generateTree(t,o,e,r,s){const a=s.randomInt(4,6);for(let u=0;u<a;u++)e+u<ue&&(t[this.getBlockIndex(o,e+u,r)]=h.LOG);const l=e+a-2,f=3;for(let u=0;u<f+1;u++){const x=l+u;if(x>=ue)continue;const b=u<f?2-Math.floor(u/2):0;for(let O=-b;O<=b;O++)for(let y=-b;y<=b;y++){const p=o+O,w=r+y;if(Math.abs(O)===b&&Math.abs(y)===b&&s.random()>.6||p<0||p>=N||w<0||w>=N)continue;const E=this.getBlockIndex(p,x,w);t[E]===h.AIR&&(t[E]=h.LEAVES)}}e+a<ue&&(t[this.getBlockIndex(o,e+a,r)]=h.LEAVES)}generateCactus(t,o,e,r,s){const a=s.randomInt(1,3);for(let l=0;l<a;l++)e+l<ue&&(t[this.getBlockIndex(o,e+l,r)]=h.CACTUS)}calculateLighting(t,o){for(let e=0;e<N;e++)for(let r=0;r<N;r++){let s=15;for(let a=ue-1;a>=0;a--){const l=this.getBlockIndex(e,a,r),f=t[l],u=ve[f];u&&!u.transparent&&u.solid?s=0:f===h.WATER?s=Math.max(0,s-3):f===h.LEAVES&&(s=Math.max(0,s-1));let x=0;u&&u.light&&(x=u.light),o[l]=Math.max(s,x)}}}getBlockIndex(t,o,e){return o*N*N+e*N+t}getBlock(t,o,e,r){return o<0||o>=N||e<0||e>=ue||r<0||r>=N?h.AIR:t[this.getBlockIndex(o,e,r)]}setBlock(t,o,e,r,s){return o<0||o>=N||e<0||e>=ue||r<0||r>=N?!1:(t[this.getBlockIndex(o,e,r)]=s,!0)}}const D=16,be=8;class Gt{constructor(t=12345){this.seed=t}next(){return this.seed=(this.seed*9301+49297)%233280,this.seed/233280}nextInt(t,o){return Math.floor(this.next()*(o-t+1))+t}nextFloat(t,o){return this.next()*(o-t)+t}reset(t){this.seed=t}}const C=new Gt(42);function we(n,t,o){return[Math.round(n[0]+(t[0]-n[0])*o),Math.round(n[1]+(t[1]-n[1])*o),Math.round(n[2]+(t[2]-n[2])*o),Math.round(n[3]+(t[3]-n[3])*o)]}function P(n,t){return[Math.max(0,Math.min(255,n[0]+C.nextInt(-t,t))),Math.max(0,Math.min(255,n[1]+C.nextInt(-t,t))),Math.max(0,Math.min(255,n[2]+C.nextInt(-t,t))),n[3]]}function Co(n,t){return[Math.round(n[0]*t),Math.round(n[1]*t),Math.round(n[2]*t),n[3]]}function Mt(n,t){return[Math.min(255,Math.round(n[0]*t)),Math.min(255,Math.round(n[1]*t)),Math.min(255,Math.round(n[2]*t)),n[3]]}function v(n,t,o,e,r=D){if(t<0||t>=r||o<0||o>=r)return;const s=(o*r+t)*4;n[s]=e[0],n[s+1]=e[1],n[s+2]=e[2],n[s+3]=e[3]}function Ft(n,t,o,e=D){for(let r=0;r<e;r++)for(let s=0;s<e;s++)v(n,s,r,P(t,o),e)}function ce(n,t,o=1){const e=Math.floor(n*o),r=Math.floor(t*o),s=n*o-e,a=t*o-r,l=(p,w)=>{let E=p*374761393+w*668265263;return E=(E^E>>13)*1274126177,(E^E>>16)/4294967296+.5},f=l(e,r),u=l(e+1,r),x=l(e,r+1),b=l(e+1,r+1),O=s*s*(3-2*s),y=a*a*(3-2*a);return f*(1-O)*(1-y)+u*O*(1-y)+x*(1-O)*y+b*O*y}function Ct(n){const t={darkGreen:[67,124,42,255],baseGreen:[89,148,56,255],lightGreen:[118,172,78,255],highlight:[142,189,102,255],shadow:[52,98,32,255]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=ce(e,o,.3);let s;r<.25?s=t.shadow:r<.45?s=t.darkGreen:r<.7?s=t.baseGreen:r<.9?s=t.lightGreen:s=t.highlight,v(n,e,o,P(s,6))}for(let o=0;o<20;o++){const e=C.nextInt(0,15),r=C.nextInt(0,15),s=C.next()>.4;v(n,e,r,s?t.highlight:t.shadow)}for(let o=0;o<3;o++){const e=C.nextInt(1,14),r=C.nextInt(1,14);C.next()>.5&&v(n,e,r,[145,190,90,255])}}function Vt(n){const t={darkGreen:[67,124,42,255],baseGreen:[89,148,56,255],lightGreen:[118,172,78,255]},o={dark:[96,68,47,255],base:[121,85,58,255],light:[145,105,75,255],stone:[85,75,65,255]};for(let e=0;e<D;e++)for(let r=0;r<D;r++){const s=ce(r,e,.4);let a;s<.2?a=o.stone:s<.4?a=o.dark:s<.75?a=o.base:a=o.light,v(n,r,e,P(a,10))}for(let e=0;e<6;e++){const r=C.nextInt(0,15),s=C.nextInt(4,15);v(n,r,s,P(o.stone,8))}for(let e=0;e<D;e++){const r=C.nextInt(2,5);for(let s=0;s<r;s++){const a=C.next();let l;a<.3?l=t.darkGreen:a<.7?l=t.baseGreen:l=t.lightGreen,v(n,e,s,P(l,8))}if(C.next()>.4){const s=r;s<8&&(v(n,e,s,P(t.darkGreen,10)),C.next()>.6&&s+1<10&&v(n,e,s+1,P(t.darkGreen,12)))}}}function wo(n){const t={dark:[96,68,47,255],base:[121,85,58,255],light:[145,105,75,255],stone:[85,75,65,255],root:[75,55,40,255]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=ce(e,o,.35);let s;r<.15?s=t.stone:r<.35?s=t.dark:r<.7?s=t.base:s=t.light,v(n,e,o,P(s,12))}for(let o=0;o<8;o++){const e=C.nextInt(0,15),r=C.nextInt(0,15),s=C.next()>.4;v(n,e,r,s?P(t.stone,10):P(t.root,8))}}function Re(n){const t={dark:[90,90,90,255],base:[118,118,118,255],light:[142,142,142,255],highlight:[160,160,160,255],crack:[65,65,65,255]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=ce(e,o,.3),s=ce(e+100,o+100,.5),a=(r+s)/2;let l;a<.25?l=t.dark:a<.5?l=t.base:a<.8?l=t.light:l=t.highlight,v(n,e,o,P(l,10))}for(let o=0;o<5;o++){let e=C.nextInt(0,15),r=C.nextInt(0,15);const s=C.nextInt(3,7);for(let a=0;a<s&&(v(n,e,r,P(t.crack,8)),e+=C.nextInt(-1,1),r+=C.nextInt(0,1),!(e<0||e>15||r<0||r>15));a++);}}function Pt(n){const t={dark:[75,75,75,255],base:[105,105,105,255],light:[135,135,135,255],mortar:[60,60,60,255]};for(let e=0;e<D;e++)for(let r=0;r<D;r++)v(n,r,e,P(t.mortar,8));const o=[{x:0,y:0,w:5,h:4},{x:6,y:0,w:6,h:5},{x:13,y:0,w:3,h:4},{x:0,y:5,w:4,h:5},{x:5,y:4,w:7,h:5},{x:13,y:5,w:3,h:5},{x:0,y:11,w:6,h:5},{x:7,y:10,w:5,h:6},{x:13,y:11,w:3,h:5}];for(const e of o){const r=C.next()>.5?t.light:t.base;for(let s=e.y;s<e.y+e.h-1&&s<16;s++)for(let a=e.x;a<e.x+e.w-1&&a<16;a++)v(n,a,s,P(r,15));e.x<15&&e.y<15&&v(n,e.x,e.y,P(t.light,8));for(let s=e.x;s<e.x+e.w&&s<16;s++){const a=e.y+e.h-1;a<16&&v(n,s,a,P(t.dark,10))}for(let s=e.y;s<e.y+e.h&&s<16;s++){const a=e.x+e.w-1;a<16&&v(n,a,s,P(t.dark,10))}}}function Yt(n){const t={dark:[194,178,128,255],base:[219,205,155,255],light:[238,226,180,255],speck:[168,152,108,255]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=ce(e,o,.5);let s;r<.2?s=t.speck:r<.4?s=t.dark:r<.8?s=t.base:s=t.light,v(n,e,o,P(s,8))}for(let o=0;o<12;o++){const e=C.nextInt(0,15),r=C.nextInt(0,15);v(n,e,r,P(t.speck,10))}}function Ro(n){const t={dark:[58,42,28,255],base:[78,58,38,255],light:[98,75,52,255],highlight:[115,90,65,255]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=Math.sin(e*.9)*.5+.5,s=ce(e,o,.2),a=r*.7+s*.3;let l;a<.25?l=t.dark:a<.5?l=t.base:a<.75?l=t.light:l=t.highlight,v(n,e,o,P(l,8))}for(let o=0;o<4;o++){const e=C.nextInt(1,14),r=C.nextInt(0,5),s=C.nextInt(6,12);for(let a=r;a<r+s&&a<16;a++)C.next()>.2&&v(n,a,e,P(t.dark,10))}}function Le(n){const t={bark:[58,42,28,255],darkRing:[142,108,68,255],lightRing:[178,142,95,255],center:[195,162,115,255]},o=7.5,e=7.5;for(let r=0;r<D;r++)for(let s=0;s<D;s++){const a=s-o,l=r-e,f=Math.sqrt(a*a+l*l);if(f>6.8){v(n,s,r,P(t.bark,10));continue}const u=(f*1.8+ce(s,r,.3)*2)%3;let x;f<1.2?x=t.center:u<1.5?x=t.lightRing:x=t.darkRing,v(n,s,r,P(x,6))}}function Me(n){const t={dark:[148,115,68,255],base:[175,140,90,255],light:[198,165,115,255],grain:[135,102,58,255]};for(let o=0;o<4;o++){const e=o*4,r=C.next()>.5?.1:-.1;for(let a=e;a<e+4;a++)for(let l=0;l<D;l++){const f=Math.sin(l*.5+o*2)*.15,u=ce(l,a,.3)*.15,x=.5+f+u+r;let b;x<.35?b=t.dark:x<.55?b=t.base:b=t.light,v(n,l,a,P(b,6))}for(let a=0;a<D;a++)e+3<16&&v(n,a,e+3,P(t.grain,8));const s=C.nextInt(2,6)+o*4;s<16&&e+1<16&&v(n,s,e+1,Co(t.dark,.6))}}function Tt(n){const t={dark:[35,78,28,255],base:[52,108,42,255],light:[72,135,58,255],highlight:[95,158,78,255]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=ce(e,o,.4);if(r<.12){v(n,e,o,[0,0,0,0]);continue}let s;r<.3?s=t.dark:r<.55?s=t.base:r<.8?s=t.light:s=t.highlight,v(n,e,o,P(s,10))}}function At(n){const t={brick:[156,82,66,255],brickDark:[128,62,48,255],brickLight:[182,105,85,255],mortar:[175,168,158,255]};for(let e=0;e<D;e++)for(let r=0;r<D;r++)v(n,r,e,P(t.mortar,8));const o=[{x:-3,y:0,w:7,h:3},{x:5,y:0,w:7,h:3},{x:13,y:0,w:7,h:3},{x:0,y:4,w:7,h:3},{x:8,y:4,w:7,h:3},{x:-3,y:8,w:7,h:3},{x:5,y:8,w:7,h:3},{x:13,y:8,w:7,h:3},{x:0,y:12,w:7,h:3},{x:8,y:12,w:7,h:3}];for(const e of o){const r=C.next(),s=r<.25?t.brickDark:r<.8?t.brick:t.brickLight;for(let f=e.y;f<e.y+e.h&&f<16;f++)for(let u=Math.max(0,e.x);u<e.x+e.w&&u<16;u++)v(n,u,f,P(s,10));const a=Math.max(0,e.x+2),l=e.y+1;a<16&&l<16&&v(n,a,l,P(t.brickLight,8))}}function Bt(n){const t={deep:[22,58,128,160],base:[38,85,168,150],light:[58,115,192,140],highlight:[95,155,215,130],foam:[175,205,235,180],sparkle:[220,240,255,200]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=Math.sin(e*.4+o*.2)*.3,s=Math.sin(e*.2-o*.35)*.25,a=Math.sin((e+o)*.3)*.2,l=ce(e,o,.25)*.25,f=.5+r+s+a+l;let u;f<.35?u=t.deep:f<.5?u=t.base:f<.7?u=t.light:f<.85?u=t.highlight:u=t.foam,v(n,e,o,P(u,5))}for(let o=0;o<6;o++){const e=C.nextInt(0,15),r=C.nextInt(0,15);v(n,e,r,t.sparkle)}}function Lt(n){const t={base:[195,220,240,85],edge:[145,180,210,140],highlight:[255,255,255,160],reflection:[220,235,250,100]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=(e+o)/32*.3,s=we(t.base,t.reflection,r);v(n,e,o,s)}for(let o=0;o<D;o++)v(n,o,0,t.edge),v(n,o,15,t.edge),v(n,0,o,t.edge),v(n,15,o,t.edge);for(let o=1;o<5;o++)v(n,o,1,t.highlight),v(n,o+1,2,we(t.highlight,t.base,.5));v(n,12,3,we(t.highlight,t.base,.3)),v(n,13,4,we(t.highlight,t.base,.5))}function _e(n,t,o=8,e=1){Re(n);const r=Co(t,.7),s=Mt(t,e);for(let a=0;a<o;a++){const l=C.nextInt(2,13),f=C.nextInt(2,13),u=C.nextInt(1,2);for(let x=-u;x<=u;x++)for(let b=-u;b<=u;b++){const O=l+b,y=f+x;if(O>=0&&O<16&&y>=0&&y<16&&Math.abs(b)+Math.abs(x)<=u+(C.next()>.5?1:0)){const w=Math.abs(b)===u||Math.abs(x)===u?r:C.next()>.3?t:s;v(n,O,y,P(w,12))}}}}function _t(n){const t={shadow:[210,225,235,255],base:[235,245,250,255],bright:[250,252,255,255],sparkle:[255,255,255,255]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=ce(e,o,.3);let s;r<.2?s=t.shadow:r<.7?s=t.base:r<.95?s=t.bright:s=t.sparkle,v(n,e,o,P(s,3))}}function Wt(n){const t={dark:[125,175,220,210],base:[155,200,240,200],light:[185,220,250,190],crack:[255,255,255,220]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=ce(e,o,.35);let s;r<.3?s=t.dark:r<.7?s=t.base:s=t.light,v(n,e,o,P(s,6))}for(let o=0;o<4;o++){let e=C.nextInt(0,15),r=C.nextInt(0,15);for(let s=0;s<6&&(v(n,e,r,t.crack),e+=C.nextInt(-1,1),r+=C.nextInt(-1,1),!(e<0||e>15||r<0||r>15));s++);}}function $t(n){const t={dark:[22,22,22,255],base:[48,48,48,255],light:[72,72,72,255]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=ce(e,o,.4),s=ce(e+50,o+50,.6),a=(r+s)/2;let l;a<.35?l=t.dark:a<.7?l=t.base:l=t.light,v(n,e,o,P(l,12))}}function Ht(n){const t={crust:[85,25,5,255],dark:[185,55,0,255],base:[235,95,15,255],bright:[255,165,45,255],hot:[255,225,125,255]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=Math.sin(e*.35+o*.25)*.3,s=Math.sin(e*.2-o*.4)*.2,a=ce(e,o,.3)*.3,l=.5+r+s+a;let f;l<.25?f=t.crust:l<.4?f=t.dark:l<.65?f=t.base:l<.85?f=t.bright:f=t.hot,v(n,e,o,P(f,12))}}function zt(n){const t={dark:[185,145,65,255],base:[225,185,95,255],bright:[255,218,135,255],hot:[255,245,195,255]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=ce(e,o,.35);let s;r<.2?s=t.dark:r<.55?s=t.base:r<.85?s=t.bright:s=t.hot,v(n,e,o,P(s,10))}for(let o=0;o<5;o++){let e=C.nextInt(0,15),r=C.nextInt(0,15);for(let s=0;s<4&&(v(n,e,r,P(t.dark,10)),e+=C.nextInt(-1,1),r+=C.nextInt(-1,1),!(e<0||e>15||r<0||r>15));s++);}}function Kt(n){const t={red:[215,55,45,255],darkRed:[165,35,28,255],white:[245,242,238,255],black:[25,25,25,255]};for(let e=0;e<D;e++)for(let r=0;r<D;r++){const a=Math.floor(e/4)%2===0?t.red:t.darkRed;v(n,r,e,P(a,8))}for(let e=5;e<11;e++)for(let r=0;r<D;r++)v(n,r,e,P(t.white,4));const o=[[2,6],[3,6],[4,6],[3,7],[3,8],[3,9],[6,6],[6,7],[6,8],[6,9],[7,7],[8,8],[9,6],[9,7],[9,8],[9,9],[11,6],[12,6],[13,6],[12,7],[12,8],[12,9]];for(const[e,r]of o)e<16&&r<16&&v(n,e,r,t.black)}function Xt(n){const t={dark:[12,5,22,255],base:[28,12,48,255],purple:[48,22,75,255],highlight:[65,35,95,255]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=ce(e,o,.4);let s;r<.3?s=t.dark:r<.6?s=t.base:r<.9?s=t.purple:s=t.highlight,v(n,e,o,P(s,6))}}function Zt(n){const t={dark:[95,85,82,255],base:[128,118,115,255],light:[155,145,142,255]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=ce(e,o,.5);let s;r<.3?s=t.dark:r<.7?s=t.base:s=t.light,v(n,e,o,P(s,15))}for(let o=0;o<10;o++){const e=C.nextInt(1,14),r=C.nextInt(1,14),s=C.next()>.5?t.dark:t.light;v(n,e,r,P(s,12)),C.next()>.5&&v(n,e+1,r,P(s,12))}}function qt(n){const t={dark:[138,144,155,255],base:[158,165,178,255],light:[175,182,195,255]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=ce(e,o,.35);let s;r<.3?s=t.dark:r<.75?s=t.base:s=t.light,v(n,e,o,P(s,6))}}function Jt(n){const t={dark:[18,75,22,255],base:[32,105,38,255],light:[48,128,55,255],spine:[195,195,175,255]};for(let e=0;e<D;e++)for(let r=0;r<D;r++){const s=Math.sin(r*.8)*.3+.5;let a;s<.35?a=t.dark:s<.65?a=t.base:a=t.light,v(n,r,e,P(a,6))}const o=[[3,2],[12,3],[6,6],[10,8],[2,10],[14,11],[7,13],[4,15]];for(const[e,r]of o)e<16&&r<16&&(v(n,e,r,t.spine),e+1<16&&v(n,e+1,r,P(t.dark,8)))}function Qt(n){const t={wood:[175,140,90,255],woodDark:[145,112,68,255],grid:[72,55,38,255]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=Math.sin(e*.6+o*.15)*.2,s=we(t.wood,t.woodDark,r+.3);v(n,e,o,P(s,8))}for(let o=0;o<D;o++)v(n,5,o,t.grid),v(n,10,o,t.grid),v(n,o,5,t.grid),v(n,o,10,t.grid);for(let o=0;o<D;o++)v(n,o,0,t.grid),v(n,o,15,t.grid),v(n,0,o,t.grid),v(n,15,o,t.grid)}function er(n){const t={stoneDark:[88,88,88,255],black:[22,22,22,255],fire:[255,145,45,255],fireHot:[255,225,125,255]};Re(n);for(let o=4;o<12;o++)for(let e=4;e<12;e++)v(n,e,o,t.black);for(let o=5;o<11;o+=2)for(let e=4;e<12;e++)v(n,o,e,t.stoneDark);for(let o=7;o<12;o++)for(let e=5;e<11;e++)if((e+o)%2===0){const r=C.next()>.5;v(n,e,o,r?t.fireHot:t.fire)}for(let o=3;o<13;o++)v(n,o,3,t.stoneDark),v(n,o,12,t.stoneDark);for(let o=3;o<13;o++)v(n,3,o,t.stoneDark),v(n,12,o,t.stoneDark)}function or(n){const t={wood:[135,95,38,255],woodDark:[105,72,28,255],woodLight:[165,125,58,255],metal:[75,75,85,255],metalBright:[115,115,125,255]};for(let o=0;o<D;o++)for(let e=0;e<D;e++){const r=Math.sin(o*.25)*.2,s=we(t.wood,t.woodDark,r+.25);v(n,e,o,P(s,6))}for(let o=0;o<D;o++)v(n,o,0,t.woodLight),v(n,o,1,t.woodDark);for(let o=5;o<10;o++)for(let e=6;e<10;e++)v(n,e,o,t.metal);v(n,7,7,t.metalBright),v(n,8,7,t.metalBright);for(let o=0;o<D;o++)v(n,o,15,t.woodDark);for(let o=0;o<D;o++)v(n,0,o,t.woodDark),v(n,15,o,t.woodDark)}const tr={[h.GRASS]:{top:Ct,side:Vt,bottom:wo},[h.DIRT]:{all:wo},[h.STONE]:{all:Re},[h.COBBLESTONE]:{all:Pt},[h.SAND]:{all:Yt},[h.LOG]:{top:Le,side:Ro,bottom:Le},[h.WOOD]:{top:Le,side:Ro,bottom:Le},[h.PLANKS]:{all:Me},[h.LEAVES]:{all:Tt},[h.BRICK]:{all:At},[h.WATER]:{all:Bt},[h.GLASS]:{all:Lt},[h.SNOW]:{all:_t},[h.ICE]:{all:Wt},[h.BEDROCK]:{all:$t},[h.LAVA]:{all:Ht},[h.GLOWSTONE]:{all:zt},[h.TNT]:{all:Kt},[h.OBSIDIAN]:{all:Xt},[h.GRAVEL]:{all:Zt},[h.CLAY]:{all:qt},[h.CACTUS]:{all:Jt},[h.COAL_ORE]:{all:n=>_e(n,[38,38,38,255],10,1.2)},[h.IRON_ORE]:{all:n=>_e(n,[205,175,155,255],8,1.1)},[h.GOLD_ORE]:{all:n=>_e(n,[245,225,75,255],7,1.15)},[h.DIAMOND_ORE]:{all:n=>_e(n,[85,215,210,255],6,1.2)},[h.CRAFTING_TABLE]:{top:Qt,side:Me,bottom:Me},[h.FURNACE]:{top:Re,front:er,side:Re,bottom:Re},[h.CHEST]:{top:Me,front:or,side:n=>{Ft(n,[135,95,38,255],12)},bottom:Me}};function Do(n){const t=document.createElement("canvas");t.width=D,t.height=D;const o=t.getContext("2d"),e=o.createImageData(D,D);return C.reset(42),n(e.data),o.putImageData(e,0,0),t}function rr(){const n=be*D,t=document.createElement("canvas");t.width=n,t.height=n;const o=t.getContext("2d");o.fillStyle="#ff00ff",o.fillRect(0,0,n,n);const e=new Map;let r=0;for(const[f,u]of Object.entries(tr)){const x=parseInt(f);if(u.all){const b=Do(u.all),O=r%be*D,y=Math.floor(r/be)*D;o.drawImage(b,O,y);const p={u:r%be,v:Math.floor(r/be)};e.set(`${x}_top`,p),e.set(`${x}_bottom`,p),e.set(`${x}_front`,p),e.set(`${x}_back`,p),e.set(`${x}_left`,p),e.set(`${x}_right`,p),r++}else{const b=["top","bottom","front","back","left","right"],O={};for(const y of b){let p=u[y];p||(y==="front"||y==="back"||y==="left"||y==="right")&&(p=u.side),p||(p=u.top||u.side||Object.values(u)[0]);const w=p.toString();if(!O[w]){const E=Do(p),V=r%be*D,U=Math.floor(r/be)*D;o.drawImage(E,V,U),O[w]={u:r%be,v:Math.floor(r/be)},r++}e.set(`${x}_${y}`,O[w])}}}const s=document.createElement("canvas");s.width=n,s.height=n;const a=s.getContext("2d");a.translate(0,n),a.scale(1,-1),a.drawImage(t,0,0);const l=new it(s);return l.magFilter=ko,l.minFilter=ko,l.wrapS=go,l.wrapT=go,l.colorSpace=ct,l.flipY=!1,{texture:l,textureMap:e,atlasSize:be}}function nr(n,t,o,e){const r=`${t}_${o}`,s=n.get(r);if(!s){const f=1/e;return{u0:0,v0:1-f,u1:f,v1:1}}const a=1/e,l=e-1-s.v;return{u0:s.u*a,v0:l*a,u1:(s.u+1)*a,v1:(l+1)*a}}const sr={TOP:{dir:[0,1,0],corners:[[0,1,0],[0,1,1],[1,1,1],[1,1,0]],uvCorners:[[0,0],[0,1],[1,1],[1,0]],name:"top"},BOTTOM:{dir:[0,-1,0],corners:[[0,0,1],[0,0,0],[1,0,0],[1,0,1]],uvCorners:[[0,1],[0,0],[1,0],[1,1]],name:"bottom"},FRONT:{dir:[0,0,1],corners:[[0,0,1],[1,0,1],[1,1,1],[0,1,1]],uvCorners:[[0,1],[1,1],[1,0],[0,0]],name:"front"},BACK:{dir:[0,0,-1],corners:[[1,0,0],[0,0,0],[0,1,0],[1,1,0]],uvCorners:[[0,1],[1,1],[1,0],[0,0]],name:"back"},RIGHT:{dir:[1,0,0],corners:[[1,0,1],[1,0,0],[1,1,0],[1,1,1]],uvCorners:[[0,1],[1,1],[1,0],[0,0]],name:"right"},LEFT:{dir:[-1,0,0],corners:[[0,0,0],[0,0,1],[0,1,1],[0,1,0]],uvCorners:[[0,1],[1,1],[1,0],[0,0]],name:"left"}};class ar{constructor(t=null){this.textureMap=t,this.positions=[],this.normals=[],this.uvs=[],this.colors=[],this.indices=[],this.transparentPositions=[],this.transparentNormals=[],this.transparentUvs=[],this.transparentColors=[],this.transparentIndices=[]}setTextureMap(t){this.textureMap=t}buildChunkMesh(t,o){this.positions=[],this.normals=[],this.uvs=[],this.colors=[],this.indices=[],this.transparentPositions=[],this.transparentNormals=[],this.transparentUvs=[],this.transparentColors=[],this.transparentIndices=[];const{blocks:e,chunkX:r,chunkZ:s}=t;for(let a=0;a<ue;a++)for(let l=0;l<N;l++)for(let f=0;f<N;f++){const u=e[a*N*N+l*N+f];if(u===h.AIR)continue;const x=ve[u];if(!x)continue;const b=r*N+f,O=s*N+l;for(const[y,p]of Object.entries(sr)){const w=f+p.dir[0],E=a+p.dir[1],V=l+p.dir[2];let U;w<0||w>=N||V<0||V>=N?U=o(b+p.dir[0],E,O+p.dir[2]):E<0||E>=ue?U=h.AIR:U=e[E*N*N+V*N+w];const z=ve[U];!(!z||z.transparent)&&U!==h.AIR||x.transparent&&U===u||this.addFace(f,a,l,p,u,x.transparent)}}return this.createGeometries()}addFace(t,o,e,r,s,a){const l=a?this.transparentPositions:this.positions,f=a?this.transparentNormals:this.normals,u=a?this.transparentUvs:this.uvs,x=a?this.transparentColors:this.colors,b=a?this.transparentIndices:this.indices,O=l.length/3;let y;this.textureMap?y=nr(this.textureMap,s,r.name,be):y={u0:0,v0:0,u1:1,v1:1};let p=1;switch(r.name){case"top":p=1;break;case"bottom":p=.5;break;case"front":case"back":p=.8;break;case"left":case"right":p=.7;break}for(let w=0;w<r.corners.length;w++){const E=r.corners[w],V=r.uvCorners[w];l.push(t+E[0],o+E[1],e+E[2]),f.push(r.dir[0],r.dir[1],r.dir[2]);const U=y.u0+V[0]*(y.u1-y.u0),z=y.v0+V[1]*(y.v1-y.v0);u.push(U,z),x.push(p,p,p)}b.push(O,O+1,O+2,O,O+2,O+3)}createGeometries(){const t=new oo,o=new oo;return this.positions.length>0&&(t.setAttribute("position",new Ee(this.positions,3)),t.setAttribute("normal",new Ee(this.normals,3)),t.setAttribute("uv",new Ee(this.uvs,2)),t.setAttribute("color",new Ee(this.colors,3)),t.setIndex(this.indices),t.computeBoundingSphere()),this.transparentPositions.length>0&&(o.setAttribute("position",new Ee(this.transparentPositions,3)),o.setAttribute("normal",new Ee(this.transparentNormals,3)),o.setAttribute("uv",new Ee(this.transparentUvs,2)),o.setAttribute("color",new Ee(this.transparentColors,3)),o.setIndex(this.transparentIndices),o.computeBoundingSphere()),{solid:t,transparent:o,triangleCount:(this.indices.length+this.transparentIndices.length)/3}}}function Vo(n=null){const t={vertexColors:!0,side:lt};n&&(t.map=n);const o=new Je(t),e={...t,transparent:!0,opacity:.9,side:bo,depthWrite:!1,alphaTest:.1},r=new Je(e),s=new Je({map:n,vertexColors:!0,transparent:!0,opacity:.7,side:bo,depthWrite:!1});return{solidMaterial:o,transparentMaterial:r,waterMaterial:s}}const Po=j.createContext(null);function ir({children:n}){const[t,o]=j.useState(null);return j.useEffect(()=>{const e=rr(),r=Vo(e.texture);return o({...e,materials:r}),()=>{var s,a,l;e!=null&&e.texture&&e.texture.dispose(),r&&((s=r.solidMaterial)==null||s.dispose(),(a=r.transparentMaterial)==null||a.dispose(),(l=r.waterMaterial)==null||l.dispose())}},[]),c.jsxDEV(Po.Provider,{value:t,children:n},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Chunk.jsx",lineNumber:41,columnNumber:5},this)}function cr(){return j.useContext(Po)}let eo=null;function lr(){return eo||(eo=Vo(null)),eo}const ur=j.memo(function({chunkX:t,chunkZ:o,chunkData:e,getNeighborBlock:r,onMeshBuilt:s,textureData:a}){const l=j.useRef(),f=j.useRef(),u=j.useRef({solid:null,transparent:null}),x=(e==null?void 0:e.version)||0,b=j.useRef(e==null?void 0:e.blocks);j.useEffect(()=>{if(!e||!e.blocks)return;b.current=e.blocks,u.current.solid&&u.current.solid.dispose(),u.current.transparent&&u.current.transparent.dispose();const w=new ar((a==null?void 0:a.textureMap)||null),{solid:E,transparent:V,triangleCount:U}=w.buildChunkMesh(e,r);return u.current={solid:E,transparent:V},l.current&&(l.current.geometry=E),f.current&&(f.current.geometry=V),s&&s(U),()=>{u.current.solid&&u.current.solid.dispose(),u.current.transparent&&u.current.transparent.dispose()}},[e==null?void 0:e.blocks,x,t,o,a]);const O=j.useMemo(()=>[t*N,0,o*N],[t,o]),y=j.useMemo(()=>new oo,[]),p=(a==null?void 0:a.materials)||lr();return c.jsxDEV("group",{position:O,children:[c.jsxDEV("mesh",{ref:l,geometry:u.current.solid||y,material:p.solidMaterial,frustumCulled:!0},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Chunk.jsx",lineNumber:127,columnNumber:7},this),c.jsxDEV("mesh",{ref:f,geometry:u.current.transparent||y,material:p.transparentMaterial,frustumCulled:!0},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Chunk.jsx",lineNumber:134,columnNumber:7},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Chunk.jsx",lineNumber:125,columnNumber:5},this)},(n,t)=>{var o,e,r,s;return n.chunkX===t.chunkX&&n.chunkZ===t.chunkZ&&((o=n.chunkData)==null?void 0:o.version)===((e=t.chunkData)==null?void 0:e.version)&&((r=n.chunkData)==null?void 0:r.blocks)===((s=t.chunkData)==null?void 0:s.blocks)&&n.textureData===t.textureData});function fr({renderDistance:n=4}){const t=k(E=>E.player.position),o=k(E=>E.chunks);k(E=>E.getModifiedBlock);const e=k(E=>E.setTriangleCount),r=k(E=>E.isPlaying),s=k(E=>E.modifiedBlocks),a=cr(),l=j.useRef(new Map);j.useRef({x:null,z:null});const f=Math.floor(t[0]/N),u=Math.floor(t[2]/N),x=j.useMemo(()=>{if(!r)return[];const E=[];for(let V=-n;V<=n;V++)for(let U=-n;U<=n;U++)V*V+U*U<=n*n&&E.push(`${f+V},${u+U}`);return E},[f,u,n,r]),b=j.useRef(o),O=j.useRef(s);b.current=o,O.current=s;const y=j.useCallback((E,V,U)=>{const z=k.getState().getModifiedBlock(E,V,U);if(z!==void 0)return z;const M=Math.floor(E/N),L=Math.floor(U/N),Q=`${M},${L}`,q=b.current.get(Q);if(!q||!q.blocks)return 0;const H=(E%N+N)%N,ee=(U%N+N)%N;return V<0||V>=ue?0:q.blocks[V*N*N+ee*N+H]},[]),p=j.useCallback((E,V)=>{l.current.set(E,V);let U=0;l.current.forEach(z=>U+=z),e(U)},[e]),w=j.useMemo(()=>x.map(E=>{const V=o.get(E);if(!V)return null;const[U,z]=E.split(",").map(Number);return c.jsxDEV(ur,{chunkX:U,chunkZ:z,chunkData:V,getNeighborBlock:y,onMeshBuilt:M=>p(E,M),textureData:a},E,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Chunk.jsx",lineNumber:231,columnNumber:9},this)}),[x,o,y,p,a]);return c.jsxDEV(c.Fragment,{children:w},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Chunk.jsx",lineNumber:244,columnNumber:10},this)}function mr({position:n,visible:t=!0}){return!t||!n?null:c.jsxDEV("group",{position:[n[0]+.5,n[1]+.5,n[2]+.5],children:c.jsxDEV("lineSegments",{children:[c.jsxDEV("edgesGeometry",{args:[new ut(1.01,1.01,1.01)]},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Block.jsx",lineNumber:73,columnNumber:9},this),c.jsxDEV("lineBasicMaterial",{color:"#000000",linewidth:2,transparent:!0,opacity:.8},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Block.jsx",lineNumber:74,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Block.jsx",lineNumber:72,columnNumber:7},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Block.jsx",lineNumber:71,columnNumber:5},this)}function hr({position:n,progress:t,visible:o=!0}){if(!o||!n||t<=0)return null;const r=.1+Math.min(9,Math.floor(t*10))*.08;return c.jsxDEV("mesh",{position:[n[0]+.5,n[1]+.5,n[2]+.5],children:[c.jsxDEV("boxGeometry",{args:[1.002,1.002,1.002]},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Block.jsx",lineNumber:109,columnNumber:7},this),c.jsxDEV("meshBasicMaterial",{color:"#000000",transparent:!0,opacity:r,depthWrite:!1,polygonOffset:!0,polygonOffsetFactor:-1},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Block.jsx",lineNumber:110,columnNumber:7},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Block.jsx",lineNumber:108,columnNumber:5},this)}function pr(){const{camera:n}=Uo(),t=k(m=>m.worldSeed),o=k(m=>m.player),e=k(m=>m.chunks),r=k(m=>m.setChunk),s=k(m=>m.removeChunk);k(m=>m.modifiedBlocks);const a=k(m=>m.setModifiedBlock),l=k(m=>m.getModifiedBlock),f=k(m=>m.isPlaying),u=k(m=>m.isLoading);k(m=>m.finishLoading);const x=k(m=>m.setHoveredBlock),b=k(m=>m.hoveredBlock),O=k(m=>m.breakingBlock),y=k(m=>m.breakProgress);k(m=>m.setBreakingBlock);const p=k(m=>m.inventory),w=k(m=>m.player.selectedSlot),E=k(m=>m.addToInventory),V=k(m=>m.removeFromInventory),U=k(m=>m.settings),z=j.useRef(null),M=j.useRef(new Set);j.useRef([]),j.useRef(!1),j.useRef(0);const[L,Q]=j.useState(!1),q=j.useRef(!1);j.useEffect(()=>{z.current=new Ut(t),q.current=!1,M.current.clear(),Q(!0)},[t]);const H=j.useCallback((m,I,S)=>{const F=Math.floor(m),G=Math.floor(I),T=Math.floor(S),B=l(F,G,T);if(B!==void 0)return B;const A=Math.floor(F/N),X=Math.floor(T/N),_=`${A},${X}`,K=e.get(_);if(!K||!K.blocks)return h.AIR;const oe=(F%N+N)%N,le=(T%N+N)%N;return G<0||G>=ue?h.AIR:K.blocks[G*N*N+le*N+oe]},[e,l]),ee=j.useCallback(()=>{if(!n)return null;const m=new ft;m.setFromCamera(new mt(0,0),n);const I=m.ray.origin,S=m.ray.direction,F=5,G=.1;let T=null;for(let B=0;B<F;B+=G){const A=Math.floor(I.x+S.x*B),X=Math.floor(I.y+S.y*B),_=Math.floor(I.z+S.z*B),K=H(A,X,_);if(K!==h.AIR){const oe=ve[K];if(oe&&oe.solid)return{position:[A,X,_],blockType:K,normal:T?[T[0]-A,T[1]-X,T[2]-_]:[0,1,0],placePosition:T||[A,X+1,_]}}else T=[A,X,_]}return null},[n,H]),se=j.useCallback((m,I)=>{const S=`${m},${I}`;if(!(M.current.has(S)||e.has(S))&&(M.current.add(S),z.current)){const F=z.current.generateChunk(m,I);r(S,F)}},[e,r]),ae=j.useCallback((m,I)=>{const S=U.renderDistance+2;e.forEach((F,G)=>{const[T,B]=G.split(",").map(Number),A=T-m,X=B-I;A*A+X*X>S*S&&(s(G),M.current.delete(G))})},[e,s,U.renderDistance]);Ce(()=>{if(!f||!z.current)return;const m=Math.floor(o.position[0]/N),I=Math.floor(o.position[2]/N),S=U.renderDistance||No;for(let F=0;F<=S;F++)for(let G=-F;G<=F;G++)for(let T=-F;T<=F;T++)(Math.abs(G)===F||Math.abs(T)===F)&&G*G+T*T<=S*S&&se(m+G,I+T);ae(m,I)}),Ce(()=>{if(!f)return;const m=ee();x(m)}),j.useEffect(()=>{if(!u||!L||!z.current||q.current)return;q.current=!0;const m=k.getState().player.position,I=Math.floor(m[0]/N),S=Math.floor(m[2]/N),F=3,G=[];for(let _=-F;_<=F;_++)for(let K=-F;K<=F;K++)G.push([I+_,S+K]);G.forEach(([_,K])=>{const oe=`${_},${K}`;if(!M.current.has(oe)&&(M.current.add(oe),z.current)){const le=z.current.generateChunk(_,K);k.getState().setChunk(oe,le)}});const T=m[0],B=m[2];let A=ue-1;const X=(_,K,oe)=>{const le=Math.floor(_),fe=Math.floor(K),pe=Math.floor(oe),de=Math.floor(le/N),ge=Math.floor(pe/N),re=`${de},${ge}`,De=k.getState().chunks.get(re);if(!De||!De.blocks)return h.AIR;const Ve=(le%N+N)%N,$e=(pe%N+N)%N;return fe<0||fe>=ue?h.AIR:De.blocks[fe*N*N+$e*N+Ve]};for(let _=ue-1;_>=0;_--)if(X(T,_,B)!==h.AIR){A=_+2;break}k.getState().updatePlayerPosition([T,A,B]),setTimeout(()=>{k.getState().finishLoading()},500)},[u,L]);const d=j.useCallback(m=>{if(b){if(m==="break"){const{position:I,blockType:S}=b,F=ve[S];if(!F||F.indestructible)return;a(I[0],I[1],I[2],h.AIR);const G=F.drops!==void 0?F.drops:S;G!==null&&E(G,1);const T=Math.floor(I[0]/N),B=Math.floor(I[2]/N),A=`${T},${B}`,X=e.get(A);X&&r(A,{...X,version:(X.version||0)+1})}else if(m==="place"){const I=p[w];if(!I)return;const{placePosition:S}=b;if(H(S[0],S[1],S[2])!==h.AIR)return;const G=o.position[0],T=o.position[1],B=o.position[2],A=S[0],X=S[1],_=S[2];if(A>=G-.3&&A<=G+.3&&_>=B-.3&&_<=B+.3&&X>=T&&X<=T+1.8)return;a(S[0],S[1],S[2],I.type),V(w,1);const K=Math.floor(S[0]/N),oe=Math.floor(S[2]/N),le=`${K},${oe}`,fe=e.get(le);fe&&r(le,{...fe,version:(fe.version||0)+1})}}},[b,p,w,o.position,H,a,E,V,e,r]);return j.useEffect(()=>(window.handleBlockInteraction=d,()=>{delete window.handleBlockInteraction}),[d]),c.jsxDEV(c.Fragment,{children:[c.jsxDEV(fr,{renderDistance:U.renderDistance||No},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/World.jsx",lineNumber:344,columnNumber:7},this),b&&c.jsxDEV(mr,{position:b.position,visible:!0},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/World.jsx",lineNumber:348,columnNumber:9},this),O&&c.jsxDEV(hr,{position:O.position,progress:y,visible:!0},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/World.jsx",lineNumber:353,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/World.jsx",lineNumber:342,columnNumber:5},this)}const te={forward:!1,backward:!1,left:!1,right:!1,jump:!1,sprint:!1,sneak:!1};function dr({onBlockInteraction:n}){const t=j.useRef(),{camera:o,gl:e}=Uo(),r=k(d=>d.player),s=k(d=>d.updatePlayerPosition),a=k(d=>d.updatePlayerVelocity),l=k(d=>d.setPlayerOnGround),f=k(d=>d.setPlayerFlying),u=k(d=>d.setPlayerSprinting),x=k(d=>d.setPlayerSneaking),b=k(d=>d.chunks);k(d=>d.modifiedBlocks);const O=k(d=>d.getModifiedBlock),y=k(d=>d.isPlaying),p=k(d=>d.isPaused),w=k(d=>d.showInventory),E=k(d=>d.selectSlot),V=k(d=>d.toggleInventory),U=k(d=>d.toggleDebug),z=k(d=>d.pauseGame),M=j.useRef(new Ie),L=j.useRef(new Ie),Q=j.useRef(0);j.useRef(0);const q=j.useCallback((d,m,I)=>{const S=Math.floor(d),F=Math.floor(m),G=Math.floor(I),T=O(S,F,G);if(T!==void 0)return T;const B=Math.floor(S/N),A=Math.floor(G/N),X=`${B},${A}`,_=b.get(X);if(!_||!_.blocks)return h.AIR;const K=(S%N+N)%N,oe=(G%N+N)%N;return F<0||F>=ue?h.AIR:_.blocks[F*N*N+oe*N+K]},[b,O]),H=j.useCallback((d,m,I)=>{const S=q(d,m,I),F=ve[S];return F&&F.solid},[q]),ee=j.useCallback(d=>{const m=vo/2,I=vt,S=[[d.x-m,d.y,d.z-m],[d.x+m,d.y,d.z-m],[d.x-m,d.y,d.z+m],[d.x+m,d.y,d.z+m],[d.x-m,d.y+I,d.z-m],[d.x+m,d.y+I,d.z-m],[d.x-m,d.y+I,d.z+m],[d.x+m,d.y+I,d.z+m]];for(const[F,G,T]of S)if(H(F,G,T))return!0;return!1},[H]),se=j.useCallback(d=>{const m=vo/2,I=d.y-.01;return H(d.x-m,I,d.z-m)||H(d.x+m,I,d.z-m)||H(d.x-m,I,d.z+m)||H(d.x+m,I,d.z+m)},[H]);j.useEffect(()=>{const d=S=>{if(!(!y||p||w))switch(S.code){case"KeyW":te.forward=!0;break;case"KeyS":te.backward=!0;break;case"KeyA":te.left=!0;break;case"KeyD":te.right=!0;break;case"Space":te.jump=!0;const F=Date.now();F-Q.current<300&&f(!r.isFlying),Q.current=F;break;case"ShiftLeft":te.sprint=!0;break;case"ControlLeft":te.sneak=!0;break;case"KeyE":V();break;case"KeyF":f(!r.isFlying);break;case"F3":S.preventDefault(),U();break;case"Escape":z();break;case"Digit1":E(0);break;case"Digit2":E(1);break;case"Digit3":E(2);break;case"Digit4":E(3);break;case"Digit5":E(4);break;case"Digit6":E(5);break;case"Digit7":E(6);break;case"Digit8":E(7);break;case"Digit9":E(8);break}},m=S=>{switch(S.code){case"KeyW":te.forward=!1;break;case"KeyS":te.backward=!1;break;case"KeyA":te.left=!1;break;case"KeyD":te.right=!1;break;case"Space":te.jump=!1;break;case"ShiftLeft":te.sprint=!1;break;case"ControlLeft":te.sneak=!1;break}},I=S=>{if(!y||p||w)return;const F=Math.sign(S.deltaY);let G=r.selectedSlot+F;G<0&&(G=8),G>8&&(G=0),E(G)};return window.addEventListener("keydown",d),window.addEventListener("keyup",m),window.addEventListener("wheel",I),()=>{window.removeEventListener("keydown",d),window.removeEventListener("keyup",m),window.removeEventListener("wheel",I)}},[y,p,w,r.isFlying,r.selectedSlot]),j.useEffect(()=>{const d=I=>{var S;!y||p||w||(S=t.current)!=null&&S.isLocked&&(I.button===0?n==null||n("break"):I.button===2&&(n==null||n("place")))},m=I=>{I.preventDefault()};return e.domElement.addEventListener("mousedown",d),e.domElement.addEventListener("contextmenu",m),()=>{e.domElement.removeEventListener("mousedown",d),e.domElement.removeEventListener("contextmenu",m)}},[y,p,w,e.domElement,n]),Ce((d,m)=>{var oe;if(!y||p||w||!((oe=t.current)!=null&&oe.isLocked))return;const I=Math.min(m,.1),S=new Ie;o.getWorldDirection(S),S.y=0,S.normalize();const F=new Ie;F.crossVectors(S,new Ie(0,1,0)),L.current.set(0,0,0),te.forward&&L.current.add(S),te.backward&&L.current.sub(S),te.left&&L.current.sub(F),te.right&&L.current.add(F),L.current.normalize();let G=yt;r.isFlying?G=It:te.sprint&&te.forward?(G=St,u(!0)):u(!1),te.sneak?(G*=.3,x(!0)):x(!1);const T=new Ie(...r.position),B=T.clone();if(r.isFlying)B.x+=L.current.x*G*I,B.z+=L.current.z*G*I,te.jump&&(B.y+=G*I),te.sneak&&(B.y-=G*I),M.current.set(0,0,0);else{const le=se(T);l(le),B.x+=L.current.x*G*I,B.z+=L.current.z*G*I,le?(M.current.y<0&&(M.current.y=0),te.jump&&(M.current.y=jt)):M.current.y-=Et*I,B.y+=M.current.y*I}const A=T.clone(),X=T.clone();X.x=B.x,ee(X)||(A.x=B.x);const _=A.clone();_.z=B.z,ee(_)||(A.z=B.z);const K=A.clone();if(K.y=B.y,!ee(K))A.y=B.y;else if(M.current.y>0)M.current.y=0;else if(M.current.y<0)for(M.current.y=0;ee(A)&&A.y<T.y+1;)A.y+=.1;A.y<1&&(A.y=1),o.position.set(A.x,A.y+xt,A.z),s([A.x,A.y,A.z]),a([M.current.x,M.current.y,M.current.z])});const ae=()=>{var d;!p&&!w&&y&&((d=t.current)==null||d.lock())};return c.jsxDEV(c.Fragment,{children:[c.jsxDEV(ht,{ref:t,args:[o,e.domElement],onLock:()=>{},onUnlock:()=>{}},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Player.jsx",lineNumber:369,columnNumber:7},this),y&&!p&&!w&&c.jsxDEV("mesh",{visible:!1,onClick:ae,children:c.jsxDEV("planeGeometry",{args:[1e3,1e3]},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Player.jsx",lineNumber:378,columnNumber:11},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Player.jsx",lineNumber:377,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Player.jsx",lineNumber:368,columnNumber:5},this)}function kr({time:n}){const t=j.useRef(),o=j.useMemo(()=>{const r=n*Math.PI*2-Math.PI/2,s=400;return[Math.cos(r)*s,Math.sin(r)*s,0]},[n]),e=j.useMemo(()=>n>.2&&n<.8?"#ffff80":n>.15&&n<=.2||n>=.8&&n<.85?"#ff8844":"#444444",[n]);return c.jsxDEV("mesh",{ref:t,position:o,children:[c.jsxDEV("sphereGeometry",{args:[20,32,32]},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:36,columnNumber:7},this),c.jsxDEV("meshBasicMaterial",{color:e},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:37,columnNumber:7},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:35,columnNumber:5},this)}function gr({time:n}){const t=j.useRef(),o=j.useMemo(()=>{const r=n*Math.PI*2+Math.PI/2,s=400;return[Math.cos(r)*s,Math.sin(r)*s,0]},[n]);return n<.2||n>.8?c.jsxDEV("mesh",{ref:t,position:o,children:[c.jsxDEV("sphereGeometry",{args:[15,32,32]},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:63,columnNumber:7},this),c.jsxDEV("meshBasicMaterial",{color:"#e8e8e8"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:64,columnNumber:7},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:62,columnNumber:5},this):null}function br({time:n}){const t=j.useRef(),o=j.useMemo(()=>n<.15||n>.85?1:n<.25?(.25-n)/.1:n>.75?(n-.75)/.1:0,[n]),e=j.useMemo(()=>{const r=[];for(let a=0;a<500;a++){const l=Math.random()*Math.PI*2,f=Math.acos(2*Math.random()-1),u=450+Math.random()*50;r.push(u*Math.sin(f)*Math.cos(l),Math.abs(u*Math.cos(f)),u*Math.sin(f)*Math.sin(l))}return new Float32Array(r)},[]);return o<=0?null:c.jsxDEV("points",{ref:t,children:[c.jsxDEV("bufferGeometry",{children:c.jsxDEV("bufferAttribute",{attach:"attributes-position",count:e.length/3,array:e,itemSize:3},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:106,columnNumber:9},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:105,columnNumber:7},this),c.jsxDEV("pointsMaterial",{size:2,color:"#ffffff",transparent:!0,opacity:o,sizeAttenuation:!1},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:113,columnNumber:7},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:104,columnNumber:5},this)}function Nr({time:n}){const t=j.useRef(),o=j.useMemo(()=>n>.2&&n<.8?"#ffffff":n>.15&&n<.85?"#ffccaa":"#333344",[n]),e=j.useMemo(()=>{const r=[];for(let a=0;a<20;a++)r.push({position:[(Math.random()-.5)*500,100+Math.random()*30,(Math.random()-.5)*500],scale:10+Math.random()*20,opacity:.6+Math.random()*.3});return r},[]);return Ce((r,s)=>{t.current&&t.current.children.forEach((a,l)=>{a.position.x+=s*2,a.position.x>300&&(a.position.x=-300)})}),c.jsxDEV("group",{ref:t,children:e.map((r,s)=>c.jsxDEV("mesh",{position:r.position,children:[c.jsxDEV("boxGeometry",{args:[r.scale*2,r.scale*.3,r.scale]},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:175,columnNumber:11},this),c.jsxDEV("meshBasicMaterial",{color:o,transparent:!0,opacity:r.opacity*.6},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:176,columnNumber:11},this)]},s,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:174,columnNumber:9},this))},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:172,columnNumber:5},this)}function vr(){const n=k(u=>u.time),t=k(u=>u.updateTime),o=k(u=>u.settings),e=k(u=>u.isPlaying);Ce((u,x)=>{e&&t(x)});const r=j.useMemo(()=>{let u=2,x=.005,b=.8,O=10;const y=.5-Math.abs(n*2-.5),p=n*360;return n<.2||n>.8?(u=.1,O=1):(n<.25||n>.75)&&(u=3,O=8,x=.01),{rayleigh:u,turbidity:O,mieCoefficient:x,mieDirectionalG:b,inclination:Math.max(0,y),azimuth:p}},[n]),s=j.useMemo(()=>[Math.cos(n*Math.PI*2)*100,Math.sin(n*Math.PI*2-Math.PI/2)*100,Math.sin(n*Math.PI*2)*100],[n]),a=j.useMemo(()=>n>.2&&n<.8?.6:n>.1&&n<.9?.3:.15,[n]),l=j.useMemo(()=>n>.2&&n<.8?1:n>.1&&n<.9?.5:.1,[n]),f=j.useMemo(()=>n<.15||n>.85?"#0a0a1a":n<.2||n>.8?"#1a1a3a":null,[n]);return c.jsxDEV(c.Fragment,{children:[f&&c.jsxDEV("color",{attach:"background",args:[f]},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:284,columnNumber:9},this),c.jsxDEV(pt,{distance:45e4,sunPosition:s,inclination:r.inclination,azimuth:r.azimuth,rayleigh:r.rayleigh,turbidity:r.turbidity,mieCoefficient:r.mieCoefficient,mieDirectionalG:r.mieDirectionalG},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:288,columnNumber:7},this),c.jsxDEV(kr,{time:n},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:300,columnNumber:7},this),c.jsxDEV(gr,{time:n},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:301,columnNumber:7},this),c.jsxDEV(br,{time:n},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:304,columnNumber:7},this),o.clouds&&c.jsxDEV(Nr,{time:n},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:307,columnNumber:27},this),c.jsxDEV("ambientLight",{intensity:a},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:310,columnNumber:7},this),c.jsxDEV("directionalLight",{position:s,intensity:l,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"shadow-camera-far":500,"shadow-camera-left":-100,"shadow-camera-right":100,"shadow-camera-top":100,"shadow-camera-bottom":-100},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:313,columnNumber:7},this),c.jsxDEV("hemisphereLight",{skyColor:n>.2&&n<.8?"#87ceeb":"#0a0a1a",groundColor:"#3d2817",intensity:.3},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:327,columnNumber:7},this),c.jsxDEV("fog",{attach:"fog",args:[n>.2&&n<.8?"#c8e6ff":"#0a0a2a",50,250]},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:334,columnNumber:7},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Sky.jsx",lineNumber:281,columnNumber:5},this)}function xr(n){const t=ve[n];if(!t)return null;const o=t.topColor||t.color||"#888888",e=t.sideColor||t.color||"#666666",r=t.color||"#555555";return{top:o,side:e,front:e,base:r}}function Er({index:n,item:t,isSelected:o}){const e=k(s=>s.selectSlot);t&&ve[t.type];const r=t?xr(t.type):null;return c.jsxDEV("div",{className:`hotbar-slot ${o?"selected":""}`,onClick:()=>e(n),children:[t&&r&&c.jsxDEV(c.Fragment,{children:[c.jsxDEV("div",{className:"slot-block-3d",children:[c.jsxDEV("div",{className:"block-face top",style:{backgroundColor:r.top}},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Hotbar.jsx",lineNumber:38,columnNumber:13},this),c.jsxDEV("div",{className:"block-face front",style:{backgroundColor:r.front}},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Hotbar.jsx",lineNumber:43,columnNumber:13},this),c.jsxDEV("div",{className:"block-face side",style:{backgroundColor:r.side}},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Hotbar.jsx",lineNumber:48,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Hotbar.jsx",lineNumber:36,columnNumber:11},this),t.count>1&&c.jsxDEV("span",{className:"slot-count",children:t.count},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Hotbar.jsx",lineNumber:54,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Hotbar.jsx",lineNumber:35,columnNumber:9},this),c.jsxDEV("span",{className:"slot-number",children:n+1},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Hotbar.jsx",lineNumber:58,columnNumber:7},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Hotbar.jsx",lineNumber:30,columnNumber:5},this)}function jr(){var a;const n=k(l=>l.inventory),t=k(l=>l.player.selectedSlot),o=k(l=>l.isPlaying),e=j.useMemo(()=>n.slice(0,9),[n]),r=e[t],s=r?((a=ve[r.type])==null?void 0:a.name)||"Unknown":null;return o?c.jsxDEV("div",{className:"hotbar-container",children:[s&&c.jsxDEV("div",{className:"selected-item-name",children:s},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Hotbar.jsx",lineNumber:85,columnNumber:9},this),c.jsxDEV("div",{className:"hotbar",children:e.map((l,f)=>c.jsxDEV(Er,{index:f,item:l,isSelected:f===t},f,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Hotbar.jsx",lineNumber:91,columnNumber:11},this))},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Hotbar.jsx",lineNumber:89,columnNumber:7},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Hotbar.jsx",lineNumber:83,columnNumber:5},this):null}function yr(){const n=k(e=>e.isPlaying),t=k(e=>e.isPaused),o=k(e=>e.showInventory);return!n||t||o?null:c.jsxDEV("div",{className:"crosshair",children:[c.jsxDEV("div",{className:"crosshair-h"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Crosshair.jsx",lineNumber:12,columnNumber:7},this),c.jsxDEV("div",{className:"crosshair-v"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Crosshair.jsx",lineNumber:13,columnNumber:7},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Crosshair.jsx",lineNumber:11,columnNumber:5},this)}function Sr(){const n=k(M=>M.showDebug),t=k(M=>M.player);k(M=>M.fps);const o=k(M=>M.chunksLoaded),e=k(M=>M.triangleCount),r=k(M=>M.time),s=k(M=>M.dayCount),a=k(M=>M.worldSeed),[l,f]=j.useState(60),[u,x]=j.useState(0),[b,O]=j.useState(performance.now());if(j.useEffect(()=>{let M,L=0,Q=performance.now();const q=()=>{L++;const H=performance.now();H-Q>=1e3&&(f(Math.round(L*1e3/(H-Q))),L=0,Q=H),M=requestAnimationFrame(q)};return M=requestAnimationFrame(q),()=>{cancelAnimationFrame(M)}},[]),!n)return null;const y=t.position,p=Math.floor(y[0]/16),w=Math.floor(y[2]/16),E=Math.floor(r*24),V=Math.floor((r*24-E)*60),U=`${E.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}`,z=()=>{const L=((t.rotation[0]||0)%(Math.PI*2)+Math.PI*2)%(Math.PI*2);return L<Math.PI/4||L>Math.PI*7/4?"South":L<Math.PI*3/4?"West":L<Math.PI*5/4?"North":"East"};return c.jsxDEV("div",{className:"debug-panel",children:[c.jsxDEV("div",{className:"debug-section",children:[c.jsxDEV("div",{className:"debug-title",children:"WebCraft Debug [F3]"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:69,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:["FPS: ",l]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:70,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:["Chunks: ",o]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:71,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:["Triangles: ",(e/1e3).toFixed(1),"k"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:72,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:68,columnNumber:7},this),c.jsxDEV("div",{className:"debug-section",children:[c.jsxDEV("div",{className:"debug-title",children:"Position"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:76,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:["X: ",y[0].toFixed(2)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:77,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:["Y: ",y[1].toFixed(2)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:78,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:["Z: ",y[2].toFixed(2)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:79,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:["Chunk: ",p,", ",w]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:80,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:["Facing: ",z()]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:81,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:75,columnNumber:7},this),c.jsxDEV("div",{className:"debug-section",children:[c.jsxDEV("div",{className:"debug-title",children:"World"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:85,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:["Seed: ",a]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:86,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:["Day: ",s]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:87,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:["Time: ",U]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:88,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:84,columnNumber:7},this),c.jsxDEV("div",{className:"debug-section",children:[c.jsxDEV("div",{className:"debug-title",children:"Player"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:92,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:["Health: ",t.health,"/",t.maxHealth]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:93,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:["Hunger: ",t.hunger,"/",t.maxHunger]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:94,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:["Flying: ",t.isFlying?"Yes":"No"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:95,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:["On Ground: ",t.isOnGround?"Yes":"No"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:96,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:91,columnNumber:7},this),c.jsxDEV("div",{className:"debug-section controls",children:[c.jsxDEV("div",{className:"debug-title",children:"Controls"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:100,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:"WASD - Move"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:101,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:"Space - Jump"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:102,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:"F - Toggle Fly"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:103,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:"E - Inventory"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:104,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:"1-9 - Select Slot"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:105,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:"LMB - Break"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:106,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:"RMB - Place"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:107,columnNumber:9},this),c.jsxDEV("div",{className:"debug-line",children:"ESC - Pause"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:108,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:99,columnNumber:7},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/DebugPanel.jsx",lineNumber:67,columnNumber:5},this)}function Ir(){const n=k(f=>f.isPaused),t=k(f=>f.resumeGame),o=k(f=>f.exitToMenu),e=k(f=>f.saveGame),r=k(f=>f.settings),s=k(f=>f.updateSettings);if(!n)return null;const a=()=>{t()},l=()=>{e(),o()};return c.jsxDEV("div",{className:"pause-overlay",children:c.jsxDEV("div",{className:"pause-menu",children:[c.jsxDEV("h1",{className:"pause-title",children:"Game Paused"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:25,columnNumber:9},this),c.jsxDEV("div",{className:"menu-buttons",children:[c.jsxDEV("button",{className:"menu-btn primary",onClick:a,children:"Resume Game"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:28,columnNumber:11},this),c.jsxDEV("button",{className:"menu-btn",onClick:e,children:"Save Game"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:32,columnNumber:11},this),c.jsxDEV("div",{className:"settings-section",children:[c.jsxDEV("h3",{children:"Settings"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:37,columnNumber:13},this),c.jsxDEV("div",{className:"setting-row",children:[c.jsxDEV("label",{children:["Render Distance: ",r.renderDistance]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:40,columnNumber:15},this),c.jsxDEV("input",{type:"range",min:"2",max:"12",value:r.renderDistance,onChange:f=>s({renderDistance:parseInt(f.target.value)})},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:41,columnNumber:15},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:39,columnNumber:13},this),c.jsxDEV("div",{className:"setting-row",children:[c.jsxDEV("label",{children:["FOV: ",r.fov]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:51,columnNumber:15},this),c.jsxDEV("input",{type:"range",min:"50",max:"110",value:r.fov,onChange:f=>s({fov:parseInt(f.target.value)})},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:52,columnNumber:15},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:50,columnNumber:13},this),c.jsxDEV("div",{className:"setting-row",children:c.jsxDEV("label",{children:[c.jsxDEV("input",{type:"checkbox",checked:r.clouds,onChange:f=>s({clouds:f.target.checked})},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:63,columnNumber:17},this),"Show Clouds"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:62,columnNumber:15},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:61,columnNumber:13},this),c.jsxDEV("div",{className:"setting-row",children:c.jsxDEV("label",{children:[c.jsxDEV("input",{type:"checkbox",checked:r.particles,onChange:f=>s({particles:f.target.checked})},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:74,columnNumber:17},this),"Show Particles"]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:73,columnNumber:15},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:72,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:36,columnNumber:11},this),c.jsxDEV("button",{className:"menu-btn danger",onClick:l,children:"Save & Quit to Menu"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:84,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:27,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:24,columnNumber:7},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/PauseMenu.jsx",lineNumber:23,columnNumber:5},this)}function wr(){const n=k(p=>p.gameState),t=k(p=>p.startGame),o=k(p=>p.loadGame),e=k(p=>p.hasSavedGame),r=k(p=>p.deleteSave),[s,a]=j.useState("My World"),[l,f]=j.useState(""),[u,x]=j.useState(!1);if(n!=="menu")return null;const b=()=>{const p=l?parseInt(l)||l.split("").reduce((w,E)=>w+E.charCodeAt(0),0):Date.now();t(s,p)},O=()=>{o()&&t()},y=()=>{confirm("Are you sure you want to delete your saved world?")&&r()};return c.jsxDEV("div",{className:"main-menu",children:[c.jsxDEV("div",{className:"menu-background",children:c.jsxDEV("div",{className:"floating-blocks",children:[...Array(20)].map((p,w)=>c.jsxDEV("div",{className:"floating-block",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*10}s`,animationDuration:`${15+Math.random()*10}s`}},w,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:39,columnNumber:13},this))},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:37,columnNumber:9},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:36,columnNumber:7},this),c.jsxDEV("div",{className:"menu-content",children:[c.jsxDEV("h1",{className:"game-title",children:[c.jsxDEV("span",{className:"title-web",children:"Web"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:54,columnNumber:11},this),c.jsxDEV("span",{className:"title-craft",children:"Craft"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:55,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:53,columnNumber:9},this),c.jsxDEV("p",{className:"subtitle",children:"A Minecraft-inspired voxel game"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:57,columnNumber:9},this),u?c.jsxDEV("div",{className:"new-world-form",children:[c.jsxDEV("div",{className:"form-group",children:[c.jsxDEV("label",{children:"World Name"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:82,columnNumber:15},this),c.jsxDEV("input",{type:"text",value:s,onChange:p=>a(p.target.value),placeholder:"My World"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:83,columnNumber:15},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:81,columnNumber:13},this),c.jsxDEV("div",{className:"form-group",children:[c.jsxDEV("label",{children:"Seed (optional)"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:92,columnNumber:15},this),c.jsxDEV("input",{type:"text",value:l,onChange:p=>f(p.target.value),placeholder:"Leave empty for random"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:93,columnNumber:15},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:91,columnNumber:13},this),c.jsxDEV("div",{className:"form-buttons",children:[c.jsxDEV("button",{className:"menu-btn primary",onClick:b,children:"Create World"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:102,columnNumber:15},this),c.jsxDEV("button",{className:"menu-btn",onClick:()=>x(!1),children:"Cancel"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:105,columnNumber:15},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:101,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:80,columnNumber:11},this):c.jsxDEV("div",{className:"menu-buttons",children:[e()&&c.jsxDEV(c.Fragment,{children:[c.jsxDEV("button",{className:"menu-btn primary",onClick:O,children:"Continue World"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:63,columnNumber:17},this),c.jsxDEV("button",{className:"menu-btn small danger",onClick:y,children:"Delete World"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:66,columnNumber:17},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:62,columnNumber:15},this),c.jsxDEV("button",{className:"menu-btn",onClick:()=>x(!0),children:"New World"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:72,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:60,columnNumber:11},this),c.jsxDEV("div",{className:"menu-footer",children:[c.jsxDEV("p",{children:"Controls: WASD to move, Space to jump, F to fly"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:113,columnNumber:11},this),c.jsxDEV("p",{children:"Left click to break, Right click to place"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:114,columnNumber:11},this),c.jsxDEV("p",{children:"Press F3 for debug info"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:115,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:112,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:52,columnNumber:7},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/MainMenu.jsx",lineNumber:35,columnNumber:5},this)}function Rr(){const n=k(e=>e.isLoading),t=k(e=>e.gameState),o=k(e=>e.chunksLoaded);return!n||t==="menu"?null:c.jsxDEV("div",{className:"loading-screen",children:c.jsxDEV("div",{className:"loading-content",children:[c.jsxDEV("h2",{className:"loading-title",children:"Generating World..."},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/LoadingScreen.jsx",lineNumber:13,columnNumber:9},this),c.jsxDEV("div",{className:"loading-bar-container",children:c.jsxDEV("div",{className:"loading-bar",style:{width:`${Math.min(100,o*2)}%`}},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/LoadingScreen.jsx",lineNumber:16,columnNumber:11},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/LoadingScreen.jsx",lineNumber:15,columnNumber:9},this),c.jsxDEV("p",{className:"loading-info",children:["Chunks loaded: ",o]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/LoadingScreen.jsx",lineNumber:22,columnNumber:9},this),c.jsxDEV("div",{className:"loading-tips",children:c.jsxDEV("p",{children:"Tip: Press F to toggle flying mode"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/LoadingScreen.jsx",lineNumber:27,columnNumber:11},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/LoadingScreen.jsx",lineNumber:26,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/LoadingScreen.jsx",lineNumber:12,columnNumber:7},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/LoadingScreen.jsx",lineNumber:11,columnNumber:5},this)}function Oo({index:n,item:t,isSelected:o,onClick:e,onDragStart:r,onDragOver:s,onDrop:a}){const l=t?ve[t.type]:null,f=(l==null?void 0:l.color)||"transparent";return c.jsxDEV("div",{className:`inventory-slot ${o?"selected":""} ${n<9?"hotbar-row":""}`,onClick:()=>e(n),draggable:!!t,onDragStart:u=>r(u,n),onDragOver:s,onDrop:u=>a(u,n),children:t&&c.jsxDEV(c.Fragment,{children:[c.jsxDEV("div",{className:"slot-block",style:{backgroundColor:f},children:c.jsxDEV("div",{className:"block-3d-effect"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Inventory.jsx",lineNumber:25,columnNumber:13},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Inventory.jsx",lineNumber:21,columnNumber:11},this),t.count>1&&c.jsxDEV("span",{className:"slot-count",children:t.count},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Inventory.jsx",lineNumber:28,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Inventory.jsx",lineNumber:20,columnNumber:9},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Inventory.jsx",lineNumber:11,columnNumber:5},this)}function Dr(){var y;const n=k(p=>p.showInventory),t=k(p=>p.inventory),o=k(p=>p.setInventorySlot),e=k(p=>p.toggleInventory),[r,s]=j.useState(null),[a,l]=j.useState(null),f=j.useCallback(p=>{if(r===null)t[p]&&s(p);else if(r===p)s(null);else{const w=t[r];o(r,t[p]),o(p,w),s(null)}},[t,r,o]),u=(p,w)=>{l(w),p.dataTransfer.effectAllowed="move"},x=p=>{p.preventDefault(),p.dataTransfer.dropEffect="move"},b=(p,w)=>{if(p.preventDefault(),a!==null&&a!==w){const E=t[a];o(a,t[w]),o(w,E)}l(null)},O=j.useCallback(p=>{(p.key==="Escape"||p.key==="e")&&e()},[e]);return n?c.jsxDEV("div",{className:"inventory-overlay",onKeyDown:O,tabIndex:0,children:c.jsxDEV("div",{className:"inventory-container",children:[c.jsxDEV("div",{className:"inventory-header",children:[c.jsxDEV("h2",{children:"Inventory"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Inventory.jsx",lineNumber:98,columnNumber:11},this),c.jsxDEV("button",{className:"close-btn",onClick:e,children:""},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Inventory.jsx",lineNumber:99,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Inventory.jsx",lineNumber:97,columnNumber:9},this),c.jsxDEV("div",{className:"inventory-grid",children:t.slice(9).map((p,w)=>c.jsxDEV(Oo,{index:w+9,item:p,isSelected:r===w+9,onClick:f,onDragStart:u,onDragOver:x,onDrop:b},w+9,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Inventory.jsx",lineNumber:105,columnNumber:13},this))},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Inventory.jsx",lineNumber:103,columnNumber:9},this),c.jsxDEV("div",{className:"inventory-hotbar",children:t.slice(0,9).map((p,w)=>c.jsxDEV(Oo,{index:w,item:p,isSelected:r===w,onClick:f,onDragStart:u,onDragOver:x,onDrop:b},w,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Inventory.jsx",lineNumber:121,columnNumber:13},this))},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Inventory.jsx",lineNumber:119,columnNumber:9},this),r!==null&&t[r]&&c.jsxDEV("div",{className:"item-info",children:[c.jsxDEV("span",{className:"item-name",children:((y=ve[t[r].type])==null?void 0:y.name)||"Unknown"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Inventory.jsx",lineNumber:137,columnNumber:13},this),c.jsxDEV("span",{className:"item-count",children:["x",t[r].count]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Inventory.jsx",lineNumber:140,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Inventory.jsx",lineNumber:136,columnNumber:11},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Inventory.jsx",lineNumber:96,columnNumber:7},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/UI/Inventory.jsx",lineNumber:95,columnNumber:5},this):null}function Or(){k(r=>r.settings);const n=k(r=>r.isPlaying),t=k(r=>r.isLoading),o=k(r=>r.gameState),e=j.useCallback(r=>{window.handleBlockInteraction&&window.handleBlockInteraction(r)},[]);return!n&&!t&&o!=="loading"?null:c.jsxDEV(c.Fragment,{children:[c.jsxDEV(vr,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:40,columnNumber:7},this),c.jsxDEV(pr,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:43,columnNumber:7},this),n&&c.jsxDEV(dr,{onBlockInteraction:e},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:46,columnNumber:21},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:38,columnNumber:5},this)}function Ur(){return c.jsxDEV("mesh",{children:[c.jsxDEV("boxGeometry",{args:[1,1,1]},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:55,columnNumber:7},this),c.jsxDEV("meshBasicMaterial",{color:"gray"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:56,columnNumber:7},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:54,columnNumber:5},this)}function Gr(){const n=k(r=>r.gameState),t=k(r=>r.showDebug),o=k(r=>r.settings),e=k(r=>r.isPlaying);return k(r=>r.setFPS),j.useRef(performance.now()),j.useRef(0),j.useEffect(()=>{const r=s=>{e&&s.preventDefault()};return document.addEventListener("contextmenu",r),()=>document.removeEventListener("contextmenu",r)},[e]),c.jsxDEV("div",{className:"game-container",children:[c.jsxDEV(wr,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:88,columnNumber:7},this),n!=="menu"&&c.jsxDEV(dt,{frameloop:"always",gl:{antialias:!1,powerPreference:"high-performance",stencil:!1,depth:!0,alpha:!1},camera:{fov:o.fov||70,near:.1,far:500,position:[0,80,0]},onCreated:({gl:r})=>{r.setClearColor("#87ceeb"),r.shadowMap.enabled=!1},children:[c.jsxDEV(ir,{children:c.jsxDEV(j.Suspense,{fallback:c.jsxDEV(Ur,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:114,columnNumber:33},this),children:c.jsxDEV(Or,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:115,columnNumber:15},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:114,columnNumber:13},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:113,columnNumber:11},this),t&&c.jsxDEV(kt,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:120,columnNumber:25},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:92,columnNumber:9},this),c.jsxDEV("div",{className:"ui-layer",children:[c.jsxDEV(Rr,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:126,columnNumber:9},this),c.jsxDEV(yr,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:127,columnNumber:9},this),c.jsxDEV(jr,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:128,columnNumber:9},this),c.jsxDEV(Sr,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:129,columnNumber:9},this),c.jsxDEV(Ir,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:130,columnNumber:9},this),c.jsxDEV(Dr,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:131,columnNumber:9},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:125,columnNumber:7},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/components/Game.jsx",lineNumber:86,columnNumber:5},this)}class Mr extends j.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,o){console.error("WebCraft Error:",t,o)}render(){var t;return this.state.hasError?c.jsxDEV("div",{className:"error-screen",children:c.jsxDEV("div",{className:"error-content",children:[c.jsxDEV("div",{className:"error-icon",children:"!"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/App.jsx",lineNumber:25,columnNumber:13},this),c.jsxDEV("h2",{children:"Something went wrong"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/App.jsx",lineNumber:26,columnNumber:13},this),c.jsxDEV("p",{children:"An unexpected error occurred in WebCraft."},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/App.jsx",lineNumber:27,columnNumber:13},this),c.jsxDEV("pre",{className:"error-details",children:((t=this.state.error)==null?void 0:t.message)||"Unknown error"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/App.jsx",lineNumber:28,columnNumber:13},this),c.jsxDEV("button",{className:"menu-btn primary",onClick:()=>window.location.reload(),children:"Reload Game"},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/App.jsx",lineNumber:31,columnNumber:13},this)]},void 0,!0,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/App.jsx",lineNumber:24,columnNumber:11},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/App.jsx",lineNumber:23,columnNumber:9},this):this.props.children}}function Fr(){return c.jsxDEV(Mr,{children:c.jsxDEV(Gr,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/App.jsx",lineNumber:48,columnNumber:7},this)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/App.jsx",lineNumber:47,columnNumber:5},this)}gt.createRoot(document.getElementById("root")).render(c.jsxDEV(st.StrictMode,{children:c.jsxDEV(Fr,{},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/main.jsx",lineNumber:7,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/facilis/workspace/storage/piUaoikOYFercIkS3h1a5G5fREk2/projects/minecraft-clone/src/main.jsx",lineNumber:6,columnNumber:3},void 0));
