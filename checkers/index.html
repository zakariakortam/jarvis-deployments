<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkers Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .game-container {
            text-align: center;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        h1 {
            color: #333;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .game-info {
            margin-bottom: 20px;
        }

        .current-player {
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }

        .board {
            display: grid;
            grid-template-columns: repeat(8, 60px);
            grid-template-rows: repeat(8, 60px);
            gap: 2px;
            background: #8B4513;
            padding: 10px;
            border-radius: 10px;
            margin: 0 auto;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
        }

        .square {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.2s ease;
        }

        .light {
            background-color: #F4E4BC;
        }

        .dark {
            background-color: #D2691E;
        }

        .square:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .selected {
            background-color: #FFD700 !important;
            box-shadow: 0 0 15px rgba(255,215,0,0.8);
        }

        .valid-move {
            background-color: #90EE90 !important;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }

        .piece {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            border: 3px solid #000;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .piece:hover {
            transform: scale(1.1);
            cursor: grab;
        }

        .piece:active {
            cursor: grabbing;
        }

        .red-piece {
            background: radial-gradient(circle at 30% 30%, #FF6B6B, #CC0000);
            color: white;
        }

        .black-piece {
            background: radial-gradient(circle at 30% 30%, #4A4A4A, #000000);
            color: white;
        }

        .king {
            font-size: 24px;
        }

        .reset-btn {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 16px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .reset-btn:hover {
            background: #5a67d8;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }

        .game-over {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            text-align: center;
            z-index: 1000;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 999;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1> Checkers Game </h1>
        <div class="game-info">
            <div class="current-player" id="currentPlayer">Current Player: Red</div>
        </div>
        <div class="board" id="board"></div>
        <button class="reset-btn" onclick="resetGame()">New Game</button>
    </div>

    <script>
        class CheckersGame {
            constructor() {
                this.board = this.initializeBoard();
                this.currentPlayer = 'red';
                this.selectedSquare = null;
                this.validMoves = [];
                this.gameOver = false;
                this.createBoard();
                this.updateCurrentPlayerDisplay();
            }

            initializeBoard() {
                const board = Array(8).fill(null).map(() => Array(8).fill(null));
                
                // Place red pieces (top 3 rows)
                for (let row = 0; row < 3; row++) {
                    for (let col = 0; col < 8; col++) {
                        if ((row + col) % 2 === 1) {
                            board[row][col] = { player: 'red', isKing: false };
                        }
                    }
                }
                
                // Place black pieces (bottom 3 rows)
                for (let row = 5; row < 8; row++) {
                    for (let col = 0; col < 8; col++) {
                        if ((row + col) % 2 === 1) {
                            board[row][col] = { player: 'black', isKing: false };
                        }
                    }
                }
                
                return board;
            }

            createBoard() {
                const boardElement = document.getElementById('board');
                boardElement.innerHTML = '';
                
                for (let row = 0; row < 8; row++) {
                    for (let col = 0; col < 8; col++) {
                        const square = document.createElement('div');
                        square.className = `square ${(row + col) % 2 === 0 ? 'light' : 'dark'}`;
                        square.dataset.row = row;
                        square.dataset.col = col;
                        square.addEventListener('click', (e) => this.handleSquareClick(e));
                        
                        const piece = this.board[row][col];
                        if (piece) {
                            const pieceElement = document.createElement('div');
                            pieceElement.className = `piece ${piece.player}-piece ${piece.isKing ? 'king' : ''}`;
                            pieceElement.textContent = piece.isKing ? '' : '';
                            square.appendChild(pieceElement);
                        }
                        
                        boardElement.appendChild(square);
                    }
                }
            }

            handleSquareClick(e) {
                if (this.gameOver) return;
                
                const square = e.currentTarget;
                const row = parseInt(square.dataset.row);
                const col = parseInt(square.dataset.col);
                const piece = this.board[row][col];
                
                if (this.selectedSquare) {
                    if (this.isValidMove(row, col)) {
                        this.makeMove(this.selectedSquare.row, this.selectedSquare.col, row, col);
                        this.clearSelection();
                        this.switchPlayer();
                        this.updateCurrentPlayerDisplay();
                        this.checkGameOver();
                    } else {
                        this.clearSelection();
                        if (piece && piece.player === this.currentPlayer) {
                            this.selectSquare(row, col);
                        }
                    }
                } else if (piece && piece.player === this.currentPlayer) {
                    this.selectSquare(row, col);
                }
            }

            selectSquare(row, col) {
                this.selectedSquare = { row, col };
                this.highlightValidMoves(row, col);
                
                const squares = document.querySelectorAll('.square');
                squares.forEach(s => s.classList.remove('selected'));
                
                const selectedSquare = document.querySelector(`[data-row="${row}"][data-col="${col}"]`);
                selectedSquare.classList.add('selected');
            }

            clearSelection() {
                this.selectedSquare = null;
                this.validMoves = [];
                
                const squares = document.querySelectorAll('.square');
                squares.forEach(s => {
                    s.classList.remove('selected', 'valid-move');
                });
            }

            highlightValidMoves(row, col) {
                this.validMoves = this.getValidMoves(row, col);
                
                this.validMoves.forEach(move => {
                    const square = document.querySelector(`[data-row="${move.row}"][data-col="${move.col}"]`);
                    square.classList.add('valid-move');
                });
            }

            getValidMoves(row, col) {
                const moves = [];
                const piece = this.board[row][col];
                if (!piece) return moves;
                
                const directions = [];
                if (piece.isKing) {
                    directions.push([-1, -1], [-1, 1], [1, -1], [1, 1]);
                } else if (piece.player === 'red') {
                    directions.push([1, -1], [1, 1]);
                } else {
                    directions.push([-1, -1], [-1, 1]);
                }
                
                directions.forEach(([dRow, dCol]) => {
                    const newRow = row + dRow;
                    const newCol = col + dCol;
                    
                    if (this.isValidPosition(newRow, newCol) && !this.board[newRow][newCol]) {
                        moves.push({ row: newRow, col: newCol, type: 'move' });
                    }
                    
                    // Check for jumps
                    const jumpRow = row + (dRow * 2);
                    const jumpCol = col + (dCol * 2);
                    
                    if (this.isValidPosition(jumpRow, jumpCol) && 
                        !this.board[jumpRow][jumpCol] && 
                        this.board[newRow][newCol] && 
                        this.board[newRow][newCol].player !== piece.player) {
                        moves.push({ row: jumpRow, col: jumpCol, type: 'jump', capturedRow: newRow, capturedCol: newCol });
                    }
                });
                
                return moves;
            }

            isValidPosition(row, col) {
                return row >= 0 && row < 8 && col >= 0 && col < 8;
            }

            isValidMove(row, col) {
                return this.validMoves.some(move => move.row === row && move.col === col);
            }

            makeMove(fromRow, fromCol, toRow, toCol) {
                const piece = this.board[fromRow][fromCol];
                const move = this.validMoves.find(m => m.row === toRow && m.col === toCol);
                
                this.board[toRow][toCol] = piece;
                this.board[fromRow][fromCol] = null;
                
                if (move.type === 'jump') {
                    this.board[move.capturedRow][move.capturedCol] = null;
                }
                
                // Check for king promotion
                if (!piece.isKing) {
                    if ((piece.player === 'red' && toRow === 7) || (piece.player === 'black' && toRow === 0)) {
                        piece.isKing = true;
                    }
                }
                
                this.createBoard();
            }

            switchPlayer() {
                this.currentPlayer = this.currentPlayer === 'red' ? 'black' : 'red';
            }

            updateCurrentPlayerDisplay() {
                const display = document.getElementById('currentPlayer');
                display.textContent = `Current Player: ${this.currentPlayer.charAt(0).toUpperCase() + this.currentPlayer.slice(1)}`;
                display.style.color = this.currentPlayer === 'red' ? '#CC0000' : '#000000';
            }

            checkGameOver() {
                const redPieces = this.countPieces('red');
                const blackPieces = this.countPieces('black');
                
                if (redPieces === 0) {
                    this.endGame('Black');
                } else if (blackPieces === 0) {
                    this.endGame('Red');
                } else if (!this.hasValidMoves(this.currentPlayer)) {
                    this.endGame(this.currentPlayer === 'red' ? 'Black' : 'Red');
                }
            }

            countPieces(player) {
                let count = 0;
                for (let row = 0; row < 8; row++) {
                    for (let col = 0; col < 8; col++) {
                        if (this.board[row][col] && this.board[row][col].player === player) {
                            count++;
                        }
                    }
                }
                return count;
            }

            hasValidMoves(player) {
                for (let row = 0; row < 8; row++) {
                    for (let col = 0; col < 8; col++) {
                        const piece = this.board[row][col];
                        if (piece && piece.player === player) {
                            const moves = this.getValidMoves(row, col);
                            if (moves.length > 0) {
                                return true;
                            }
                        }
                    }
                }
                return false;
            }

            endGame(winner) {
                this.gameOver = true;
                
                const overlay = document.createElement('div');
                overlay.className = 'overlay';
                
                const gameOverDiv = document.createElement('div');
                gameOverDiv.className = 'game-over';
                gameOverDiv.innerHTML = `
                    <h2> Game Over! </h2>
                    <p><strong>${winner} Wins!</strong></p>
                    <button class="reset-btn" onclick="resetGame()">Play Again</button>
                `;
                
                document.body.appendChild(overlay);
                document.body.appendChild(gameOverDiv);
            }
        }

        let game = new CheckersGame();

        function resetGame() {
            // Remove game over elements
            const overlay = document.querySelector('.overlay');
            const gameOver = document.querySelector('.game-over');
            if (overlay) overlay.remove();
            if (gameOver) gameOver.remove();
            
            // Create new game
            game = new CheckersGame();
        }
    </script>
</body>
</html>